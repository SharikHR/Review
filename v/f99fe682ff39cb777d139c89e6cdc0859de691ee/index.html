<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Sharik Hernandez" />
  <meta name="author" content="null" />
  <meta name="dcterms.date" content="2020-05-30" />
  <meta name="keywords" content="markdown, publishing, manubot, 3D, spheroid, cancer" />
  <title>3D tumor spheroids</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <!--
  Manubot generated metadata rendered from header-includes-template.html.
  Suggest improvements at https://github.com/manubot/manubot/blob/master/manubot/process/header-includes-template.html
  -->
  <meta name="dc.format" content="text/html" />
  <meta name="dc.title" content="3D tumor spheroids" />
  <meta name="citation_title" content="3D tumor spheroids" />
  <meta property="og:title" content="3D tumor spheroids" />
  <meta property="twitter:title" content="3D tumor spheroids" />
  <meta name="dc.date" content="2020-05-30" />
  <meta name="citation_publication_date" content="2020-05-30" />
  <meta name="dc.language" content="en-US" />
  <meta name="citation_language" content="en-US" />
  <meta name="dc.relation.ispartof" content="Manubot" />
  <meta name="dc.publisher" content="Manubot" />
  <meta name="citation_journal_title" content="Manubot" />
  <meta name="citation_technical_report_institution" content="Manubot" />
  <meta name="citation_author" content="Sharik Hernandez" />
  <meta name="citation_author_institution" content="Department of" />
  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />
  <meta name="twitter:creator" content="@None" />
  <meta name="citation_author" content="None" />
  <meta name="citation_author_institution" content="Department of" />
  <meta name="citation_author_institution" content="Department of" />
  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />
  <link rel="canonical" href="https://SharikHR.github.io/review/" />
  <meta property="og:url" content="https://SharikHR.github.io/review/" />
  <meta property="twitter:url" content="https://SharikHR.github.io/review/" />
  <meta name="citation_fulltext_html_url" content="https://SharikHR.github.io/review/" />
  <meta name="citation_pdf_url" content="https://SharikHR.github.io/review/manuscript.pdf" />
  <link rel="alternate" type="application/pdf" href="https://SharikHR.github.io/review/manuscript.pdf" />
  <link rel="alternate" type="text/html" href="https://SharikHR.github.io/review/v/f99fe682ff39cb777d139c89e6cdc0859de691ee/" />
  <meta name="manubot_html_url_versioned" content="https://SharikHR.github.io/review/v/f99fe682ff39cb777d139c89e6cdc0859de691ee/" />
  <meta name="manubot_pdf_url_versioned" content="https://SharikHR.github.io/review/v/f99fe682ff39cb777d139c89e6cdc0859de691ee/manuscript.pdf" />
  <meta property="og:type" content="article" />
  <meta property="twitter:card" content="summary_large_image" />
  <link rel="icon" type="image/png" sizes="192x192" href="https://manubot.org/favicon-192x192.png" />
  <link rel="mask-icon" href="https://manubot.org/safari-pinned-tab.svg" color="#ad1457" />
  <meta name="theme-color" content="#ad1457" />
  <!-- end Manubot generated metadata -->
</head>
<body>
<header id="title-block-header">
<h1 class="title">3D tumor spheroids</h1>
</header>
<p><small><em>
This manuscript
(<a href="https://SharikHR.github.io/review/v/f99fe682ff39cb777d139c89e6cdc0859de691ee/">permalink</a>)
was automatically generated
from <a href="https://github.com/SharikHR/review/tree/f99fe682ff39cb777d139c89e6cdc0859de691ee">SharikHR/review@f99fe68</a>
on May 30, 2020.
</em></small></p>
<h2 id="authors">Authors</h2>
<ul>
<li><p><strong>Sharik Hernandez</strong><br>
<img src="images/orcid.svg" class="inline_icon" alt="ORCID icon" />
<a href="https://orcid.org/XXXX-XXXX-XXXX-XXXX">XXXX-XXXX-XXXX-XXXX</a>
· <img src="images/github.svg" class="inline_icon" alt="GitHub icon" />
<a href="https://github.com/SharikHR">SharikHR</a><br>
<small>
Department of
· Funded by Grant XXXXXXXX
</small></p></li>
<li><p><strong>None</strong><br>
<img src="images/orcid.svg" class="inline_icon" alt="ORCID icon" />
<a href="https://orcid.org/XXXX-XXXX-XXXX-XXXX">XXXX-XXXX-XXXX-XXXX</a><br>
<small>
Department of; Department of
</small></p></li>
</ul>
<h2 class="page_break_before" id="abstract">Abstract</h2>
<p>A hallmark of pancreatic ductal adenocarcionoma (PDAC) is a pronounced collagen-rich fibrotic extracellular matrix known as the desmoplastic reaction. The absence of appropriate models capable of reproducing <em>in vitro</em> the heterogeneous tumor microenvironment of pancreatic cancer makes its study difficult and conventional culture approaches do not mimic the characteristics of tumors. Multicellular spheroids (MCS) have emerged as a powerful tool to narrow down the gap between the <em>in vitro</em> and <em>in vivo</em> model. In this review, we discussed the structure and biology of MCS and detailed fabricating methods, as well as the models currently in use for the study of the heterogeneous microenvironment of pancreatic cancer.</p>
<h2 id="introduction">Introduction</h2>
<p>Pancreatic cancer belongs to the top ten of cancer-related deaths in the world <span class="citation" data-cites="11YZiQBk7"><a href="#ref-11YZiQBk7" role="doc-biblioref">1</a></span> and the poor prognosis is primarily due to its advanced stage at diagnosis , the progress in it’s treatment remains too slow as a consequence of the complex physiopathology of this tumor.
The most common type of pancreatic cancer is pancreatic ductal adenocarcinoma (PDAC) characterized by a heterogeneous cellular composition and the accumulation of a very dense fibrotic tissue <span class="citation" data-cites="RuU59j5K"><a href="#ref-RuU59j5K" role="doc-biblioref">2</a></span>.
Due to that pancreatic cancer is a heterogeneous disease, is often modelled using established cell lines in the laboratory.</p>
<p>Two dimensional (2D) monocultures of isolated cancer cells do not show any structural architecture and lack the complex physiology and the microenvironment of real tumor tissues such as fibroblasts, macrophages, endothelial cells, immune cells which are embedded in an extracellular matrix (ECM) <span class="citation" data-cites="5q5Guwqg"><a href="#ref-5q5Guwqg" role="doc-biblioref">3</a></span>. Gene expression and signalling pathways are altered during monolayer conditions when compared to cells grown in the native tumor tissue <span class="citation" data-cites="1H5NbKcoK 17gCKJt8d">[<a href="#ref-1H5NbKcoK" role="doc-biblioref">4</a>,<a href="#ref-17gCKJt8d" role="doc-biblioref">5</a>]</span>. Moreover, when cells are growing in monolayer they do not replicate cell-to-cell and cell-to-ECM interactions, and the oxygen and pH gradients <span class="citation" data-cites="VWxcgXoP"><a href="#ref-VWxcgXoP" role="doc-biblioref">6</a></span>.
However, there is an urgent need to make the use of models capable of closely mimicking the heterogeneity and the microenvironment of the in vivo conditions.</p>
<p>In recent years, three-dimensional (3D) culture systems have gained increasing recognition as an effective tool for biological research. One widely used 3D culturing technique is the application of multicellular spheroids (MCS).Cells cultured in 3D more closely mimic the physiological environment compared to conventional monolayer culture systems. Spheroids are three-dimensional spherical cellular aggregates with high cell-density, that more closely simulate conditions existing in solid tumors where hypoxia and alterations related to intracellular metabolism occur due to poor availability of nutrients from blood vessels <span class="citation" data-cites="HFNrejAA"><a href="#ref-HFNrejAA" role="doc-biblioref">7</a></span>.</p>
<p>Aiming to face this issue, this review will provide an overview of the application of multicellular spheroids, the widest employed 3D tumor model so far, for the evaluation of cancer. Finally, relevant examples of models in which MCS have been included in pancreatic cancer research are described.</p>
<h2 id="pancreatic-tumor-microenvironment">Pancreatic tumor microenvironment</h2>
<p>In Pancreatic ductal adenocarcinoma (PDAC), the major components of the tumor microenvironment are a complex population of fibroblasts forming the bulk of the stroma, vasculature, inflammatory and immune cells <span class="citation" data-cites="sQVRXAVl"><a href="#ref-sQVRXAVl" role="doc-biblioref">8</a></span>.
PDAC is associated with evolving alterations in the tumor microenvironment, including increasing fibrosis and extracellular matrix deposition (desmoplasia). Increasing desmoplasia accompanies progressive disease and creates intratumoral pressure that compresses the vasculature, resulting in limited blood flow to the tumor and consequent hypoxia and low nutrient delivery <span class="citation" data-cites="KAVoATOK"><a href="#ref-KAVoATOK" role="doc-biblioref">9</a></span>.</p>
<p>Interactions between the neoplastic and non-neoplastic cells and cellular matrix have been proposed to stimulate the extensive desmoplastic reaction. Stroma production is promoted by the activation of multiple cell signalling pathways <span class="citation" data-cites="38mgBSlU GL34JrWE">[<a href="#ref-38mgBSlU" role="doc-biblioref">10</a>,<a href="#ref-GL34JrWE" role="doc-biblioref">11</a>]</span> these signalling cascades lead to secretion of structural matrix components including proteoglycans, collagen and fibronectin and the activation of catalytic enzymes such as proteinases.</p>
<p>PDAC tumours are enriched in collagen where cancer cells form gland-like structures, the main collagen proteins found in human PDAC are collagens I and IV <span class="citation" data-cites="19a3aaOpn"><a href="#ref-19a3aaOpn" role="doc-biblioref">12</a></span>. Collectively, had been demostrated PDAC extracellular matrix also represents a nutrient reservoir for tumour cells when other fuels are limited <span class="citation" data-cites="19a3aaOpn"><a href="#ref-19a3aaOpn" role="doc-biblioref">12</a></span>.</p>
<p>The interstitial matrix-associated collagens I/III, the basement membrane-associated collagen IV and the glycosaminoglycan hyaluronan have been found expressed at high levels in primary tumors and metastatic lesions in pancreatic cancer and are associated with poor survival<span class="citation" data-cites="14JBpSZ12">[<a href="#ref-14JBpSZ12" role="doc-biblioref">13</a>]</span>. Likewise, collagen type V is expressed by pancreatic stellate cells in the stroma of pancreatic ductal adenocarcinoma and promotes the malignant phenotype in pancreatic cancer cell lines <span class="citation" data-cites="Ev6ggnpZ"><a href="#ref-Ev6ggnpZ" role="doc-biblioref">14</a></span>. In contrast, collagen XV a secreted non-fibrillar collagen reduces invasion of pancreatic adenocarcinoma cells therefore hab been proposed as a tumor suppressor in the basement membrane zone <span class="citation" data-cites="1t00YBK2 1F1uomYOK">[<a href="#ref-1t00YBK2" role="doc-biblioref">15</a>,<a href="#ref-1F1uomYOK" role="doc-biblioref">16</a>]</span>.</p>
<p>The laminins are a family of extracellular matrix glycoproteins localized in the basement membrane that separates epithellal cells from the underlying stroma. They are involved in several biological processes including cell-matrix, cell growth, migration, tumour growth and metastases <span class="citation" data-cites="1921B7uqy">[<span class="citeproc-not-found" data-reference-id="1921B7uqy"><strong>???</strong></span>]</span>(96)00042-8.</p>
<p>Laminin-332 is a major member of the laminin family, consisting of α3, β3, and γ2 chains, encoded by the LAMA3, LAMB3, and LAMC2 genes, respectively. Laminin subunit beta-3 (LAMB3) is upregulated in PDAC and suppressing its expression reduces cell proliferation, invasion, and migration by downregulating epithelial‒mesenchymal transition (EMT)-related proteins (N-cadherin, vimentin, Snail, Slug) by regulation of PI3K/Akt signaling pathway <span class="citation" data-cites="bTNVC2y5"><a href="#ref-bTNVC2y5" role="doc-biblioref">17</a></span>; <span class="citation" data-cites="Gtn8z1Es"><a href="#ref-Gtn8z1Es" role="doc-biblioref">18</a></span>. Besides, the expression of laminin subunits LAMA3 and LAMC2 are upregulated with a favorable ability of distinguishing between PDAC and non-tumor tissues <span class="citation" data-cites="11i5j9Exl"><a href="#ref-11i5j9Exl" role="doc-biblioref">19</a></span>; <span class="citation" data-cites="Gtn8z1Es"><a href="#ref-Gtn8z1Es" role="doc-biblioref">18</a></span>; <span class="citation" data-cites="vpK24v4T"><a href="#ref-vpK24v4T" role="doc-biblioref">20</a></span>.</p>
<p>Fibronectin is an extracellular matrix ECM glycoprotein that supports cell-ECM interactions and is crucial for wound healing response, development, and maintaining tissue homeostasis <span class="citation" data-cites="DugWn0Zz"><a href="#ref-DugWn0Zz" role="doc-biblioref">21</a></span>. Moreover,fibronectin is an extracellular protein that is upregulated in pancreatic cancer and confers chemoresistance and metastasis <span class="citation" data-cites="doi:doi.org/10.1186/s12885-019-5803-1 doi">[<span class="citeproc-not-found" data-reference-id="doi:doi.org/10.1186/s12885-019-5803-1"><strong>???</strong></span>,<span class="citeproc-not-found" data-reference-id="doi"><strong>??</strong></span> 10.1186/s12957-019-1574-z]</span>.
Fibronectin induces distinct signals that promote survival and migration of PDAC cells <span class="citation" data-cites="vAvbf23W">[<span class="citeproc-not-found" data-reference-id="vAvbf23W"><strong>???</strong></span>]</span> surface integrins are the most well characterized receptors for fibronectin. Fibronectin binds to integrin receptors (α5β1), thereby activating the FAK pathway <span class="citation" data-cites="17rzZzzuy a3YkvfY1">[<span class="citeproc-not-found" data-reference-id="a3YkvfY1"><strong>???</strong></span>,<a href="#ref-17rzZzzuy" role="doc-biblioref">22</a>]</span>. These signals regulates cellular responses such as survival, proliferation, differentiation, adhesion and migration <span class="citation" data-cites="18POCixpi"><a href="#ref-18POCixpi" role="doc-biblioref">23</a></span>; <span class="citation" data-cites="Cyp12B9B"><a href="#ref-Cyp12B9B" role="doc-biblioref">24</a></span>.</p>
<p>Matrix metalloproteinases (MMPs) are a family of zinc-dependent endopeptidases, they are involved in degradation of the extracellular matrix . MMPs support tissue remodeling and stimulate neovascularization and inflammatory response, both in physiological and in pathological conditions, for example, in tumors <span class="citation" data-cites="uSTs3y64"><a href="#ref-uSTs3y64" role="doc-biblioref">25</a></span>.</p>
<p>MMP-2, MMP-7, and MMP-9 expressions correlate with various morphological features of the PDAC tumor such as inflammation, necrosis, and formation of the new blood vessels <span class="citation" data-cites="15y5LfITO"><a href="#ref-15y5LfITO" role="doc-biblioref">26</a></span> and their tissue inhibitors (TIMPs) TIMPs 1–3 compared with normal pancreas <span class="citation" data-cites="YgELw5CD"><a href="#ref-YgELw5CD" role="doc-biblioref">27</a></span>.</p>
<p>Pancreatic stellate cells (PSC) are responsible for desmoplasic generation <span class="citation" data-cites="9J9rfwGU"><a href="#ref-9J9rfwGU" role="doc-biblioref">28</a></span>. The activation of PSC from a quiescent to an activated state is an intercellular stimuli from tumor‐stromal interactions. PCS can be transform into myofibroblast‐like cells, which express α‐smooth muscle actin (α‐SMA) as cancer‐associated fibroblasts (CAF) <span class="citation" data-cites="37ZKrEp8 bh4Hw8k2">[<a href="#ref-37ZKrEp8" role="doc-biblioref">29</a>,<a href="#ref-bh4Hw8k2" role="doc-biblioref">30</a>]</span>.</p>
<p>CAF are important components of tumor stroma and affect cancer growth, survival, metastasis, angiogenesis and resistance to chemotherapy or radiotherapy through various cytokines <span class="citation" data-cites="1E7uwpYD3"><a href="#ref-1E7uwpYD3" role="doc-biblioref">31</a></span>, and contribute to a diminished immune function <span class="citation" data-cites="1GqwmJ5Js"><a href="#ref-1GqwmJ5Js" role="doc-biblioref">32</a></span>.</p>
<h2 id="d-and-3d-cell-culture">2D and 3D cell culture</h2>
<p>Cell culture is a widely used <em>in vitro</em> tool to improve the understanding of cell biology, cellular mechanisms, tissue morphology, drug action, protein production and the development of tissue engineering <span class="citation" data-cites="19n3w0dMn"><a href="#ref-19n3w0dMn" role="doc-biblioref">33</a></span>.</p>
<p>Three-dimensional (3D) cell culture is well documented to regain intrinsic metabolic properties and to better mimic the <em>in vivo</em> situation than two-dimensional (2D) cell culture <span class="citation" data-cites="cP0DXWPm"><a href="#ref-cP0DXWPm" role="doc-biblioref">34</a></span>.</p>
<p>A comparative molecular analyses from 2D and 3D <em>in vitro</em> conditions revealed that cancer cell phenotype is highly influenced by its microenvironment.Through the examination of cancer cell transcriptional behavior, cellular processes were closely linked to functions promoted by different culturing conditions.
Cancer cells grown in monolayers favored rapid proliferation, and this behavior was corroborated by up-regulation of cell cycle progression genes in addition to metabolic processes that synthesize DNA, RNA, and proteins. Unlike cancer cells cultured in monolayers, cancer cells in 3D down-regulate proliferative processes, while up-regulating genes involved in ECM organization and cell adhesion <span class="citation" data-cites="zle51Piv"><a href="#ref-zle51Piv" role="doc-biblioref">35</a></span>.</p>
<p>When performing 3D cell culture experiments, the cell environment can be manipulated to mimic that of a cell in vivo and provide more accurate data about cell-to-cell interactions, tumor characteristics, drug discovery, metabolic profiling, stem cell research, and other types of diseases <span class="citation" data-cites="WN8V4jLN"><a href="#ref-WN8V4jLN" role="doc-biblioref">36</a></span>.</p>
<p>Alterations in cancer cell behavior under different growth conditions underlie the importance of defining culturing conditions that preserve endogenous tumor behavior. While monolayer cultures promote the most non-native behavior of cancer cells, this model still maintains value due to its ease and scalability towards applications targeting cancer-growth driving pathways. However, analysis and discovery of potential therapeutics targeting stromal interactions, ECM development, or cell signaling may yield erroneous results in this system.The 3D culturing and inclusion of stromal cell types do show increased similarity to in vivo cancer behavior. However, improvements upon ex vivo culture conditions that allow all stromal components to persist will greatly enhance our ability to conduct pre-clinical screens that may more closely recapitulate the biological responses of patients <span class="citation" data-cites="zle51Piv"><a href="#ref-zle51Piv" role="doc-biblioref">35</a></span>.</p>
<h2 id="the-structure-of-multicellular-spheroids.">The structure of multicellular spheroids.</h2>
<p>MCSs are cell aggregates with complex cell-to-cell adhesions and cell-to-matrix interactions, which results in gradient generation for nutrients, gases, growth factors and signal factors <span class="citation" data-cites="Ui1DpBFW"><a href="#ref-Ui1DpBFW" role="doc-biblioref">37</a></span>.</p>
<p>It has been reported that MCS formation involves three critical steps. In the first stage, dispersed single-cells are drawn closer to form aggregations where ECM fibers act as a long-chain linker through the binding of integrins. This is followed by a period in which cell aggregates pause in compaction, because of the accumulation of sufficient amounts of E-cadherins. Finally, in the third stage, cells are compacted into solid aggregates to form MCSs due to the homophilic cadherin–cadherin binding <span class="citation" data-cites="HgdcQxeE"><a href="#ref-HgdcQxeE" role="doc-biblioref">38</a></span>.</p>
<p>The formation of MCS process initiates with an spontaneous self-assembly and cell-cell interactions. These interactions are regulated by adhesions proteins such as E-cadherin, α-catenin and P-cadherin <span class="citation" data-cites="1FRbbECDJ 4bV3ACIn">[<a href="#ref-1FRbbECDJ" role="doc-biblioref">39</a>,<a href="#ref-4bV3ACIn" role="doc-biblioref">40</a>]</span>
Cell-to-matrix interactions is the base for cell building and is influenced by integrins mainly by β1-integrin. The integration of integrin-ECM facilitates the cell aggregation process that connect a cell with its environment in the context of spheroid formation <span class="citation" data-cites="HgdcQxeE a3YkvfY1">[<span class="citeproc-not-found" data-reference-id="a3YkvfY1"><strong>???</strong></span>,<a href="#ref-HgdcQxeE" role="doc-biblioref">38</a>]</span>.</p>
<p>The cytoskeleton also plays an important role in spheroid formation. During spheroid formation the actin filaments undergo significant changes and the expanded microfilaments as stress fibres become along the cell periphery. In this step, the cytoskeleton is a force generation structure performing a continuos pre-stressed lattice that keeps structural stability <span class="citation" data-cites="cDPiRtpp ik3m7VMZ">[<a href="#ref-cDPiRtpp" role="doc-biblioref">41</a>,<a href="#ref-ik3m7VMZ" role="doc-biblioref">42</a>]</span>.</p>
<p>The internal structure of spheroids comprises different cell layers. MCS include hypoxic, proliferative apoptotic/necrotic areas as a consequence of oxygen and nutrient gradients. Small micro-spheroids of &lt;200μm diameter mostly include proliferating and normoxic cells, mimic three-dimensional cell-cell and cell-matrix interactions but they are inappropriate to reflect pathophysiological conditions with hypoxic areas in the spheroid center or to mimic proliferation gradients <span class="citation" data-cites="J3geZCiu"><a href="#ref-J3geZCiu" role="doc-biblioref">43</a></span>.
However, spheroids with diameters of approximately 200-300μm results in a typical zonation, with proliferative zones at the surface co-existing with normoxic quiescent zones in the middle and hypoxic zones in the core <span class="citation" data-cites="hd42U1Sd"><a href="#ref-hd42U1Sd" role="doc-biblioref">44</a></span>. Finally, MCS &gt; 500 μm diameter the formation of necrotic areas is observed as described in microregion of tumor <em>in vivo</em> <span class="citation" data-cites="15P6BlUgd"><a href="#ref-15P6BlUgd" role="doc-biblioref">45</a></span>.</p>
<p>Due to these characteristics, MCS mimic the first avascular stages of tumor formation, and exhibit important tumor aggressiveness features such as enhanced multicellular resistance, migration, and invasion, as well as an enhanced clonogenic capacity <span class="citation" data-cites="182EeIzsH"><a href="#ref-182EeIzsH" role="doc-biblioref">46</a></span>.</p>
<h2 id="methods-for-the-generation-of-mcs">Methods for the generation of MCS</h2>
<p>Many 3D culture techniques are available for the generation of spheroids. These methods prevent cell attachment to the culture substratum, thereby increasing interactions with neighboring cells and extracellular matrix.</p>
<p>Nowadays, there are four major techniques for spheroids formation by avoiding the cells adhesion to the surfaces and favoring the cell–cell interactions and cells self-aggregation.</p>
<h3 id="the-agitation-based-approaches.">The agitation-based approaches.</h3>
<p>Agitation-based approaches to culture cells as spheroids include gyratory rotation techniques, such as gyratory shakers, rotary culture systems and stirred suspension culture systems <span class="citation" data-cites="Bi4Ti9dS"><a href="#ref-Bi4Ti9dS" role="doc-biblioref">47</a></span>.</p>
<p>The general principle behind these methods is that a cell suspension is placed into a container and the suspension is kept in motion, that is, either it is gently stirred or the container is rotated. The continuous motion of the suspended cells allows that cells do not adhere to the containers walls, but instead form cell-cell interactions <span class="citation" data-cites="zXTx2Pme"><a href="#ref-zXTx2Pme" role="doc-biblioref">48</a></span>.</p>
<p>Furthermore, batches of 3D spheroids formed in spinner flasks are typically of a broad range of sizes and so would require subsequent manual selection to obtain a group of similarly sized 3D spheroids for analysis <span class="citation" data-cites="10inV267M"><a href="#ref-10inV267M" role="doc-biblioref">49</a></span>. Rotatory culture system function by similar means as the spinner flask but, instead of using a stirring bar to keep cell suspensions in motion, the culture container itself is rotated, enables large-scale production and allows for long-term culture of 3D spheroids <span class="citation" data-cites="zXTx2Pme">[<a href="#ref-zXTx2Pme" role="doc-biblioref">48</a>]</span>.</p>
<h3 id="the-hanging-drop-technique.">The hanging drop technique.</h3>
<p>The hanging drop technique relies on the formation of spheroids in small drops of culture medium, which are suspended on a glass coverslip. This is a simple method in which cells are placed in hanging drop culture and incubated under physiological conditions until they form 3D spheroids. The method requires no specialized equipment and can be adapted to include addition of any biological agent in very small quantities, can also be used to co-culture two (or more) different cell populations so as to elucidate the role of cell-cell or cell-ECM interactions in specifying spatial relationships between cells <span class="citation" data-cites="GZXuDMGZ"><a href="#ref-GZXuDMGZ" role="doc-biblioref">51</a></span>.
The hanging drop method generated well-rounded MCS and represents an attractive alternative for spheroids production, because it is mild, can be applied to a wide variety of cell lines, and can produce spheroids of a homogeneous size without the need for sieving or manual selection <span class="citation" data-cites="ABdkfHjc"><a href="#ref-ABdkfHjc" role="doc-biblioref">52</a></span>, for some cell lines spheroid formation occured within 72 hours <span class="citation" data-cites="FM9Mwqe"><a href="#ref-FM9Mwqe" role="doc-biblioref">53</a></span>. This method has also been applied to the co-cultivation of mixed cell populations, including the co-cultivation of endothelial cells and tumor cells as a model of early tumor angiogenesis <span class="citation" data-cites="1Al9Ftwbr"><a href="#ref-1Al9Ftwbr" role="doc-biblioref">54</a></span>.
Although they have disadvantage as producing variable size spheroids, low throughput, hard to handle, long-term culture, they provide an efficient way to obtain biological insights that are often lost in 2D platforms <span class="citation" data-cites="M0X95EmP"><a href="#ref-M0X95EmP" role="doc-biblioref">55</a></span>.</p>
<h3 id="liquid-overlay-technique.">Liquid overlay technique.</h3>
<p>Liquid overlay technique includes the formation of spheroids by seeding the cells on top of non-adhesive surfaces, is one of the simplest and less expensive approaches for spheroid formation forming spheroids without size or shape limitation <span class="citation" data-cites="Xs0anLqB"><a href="#ref-Xs0anLqB" role="doc-biblioref">56</a></span>. In short, wells are coated with a non-adherence layer such as agarose or poly-HEMA before adding cell suspension. Besides providing a non-adhesive surface, the agarose-coated wells or ultra-low attachment plates also increase cell-to-cell contact as cells collect on their concave bottoms <span class="citation" data-cites="t4vf2ylX"><a href="#ref-t4vf2ylX" role="doc-biblioref">57</a></span>.</p>
<p>The rate of yield for this technique is between 60% and 100% for monoculture spheroids and 100% for co-culture spheroids. The size of the spheroids ccan be adjusted easily and precisely by varying the number of seeded cells organized in one spheroid. The formation of co-culture spheroids consisting of three different cell types is possible with this method <span class="citation" data-cites="IDCMMKeN">[<a href="#ref-IDCMMKeN" role="doc-biblioref">58</a>]</span>.</p>
<h3 id="microfluidics.">Microfluidics.</h3>
<p>Microfluidics has been recently investigated for spheroids formation. Usually, microfluidics are chips composed of microchannels and microchambers, where cells suspended in media circulate and accumulate in the chambers forming the spheroids <span class="citation" data-cites="Rr6vpHbf"><a href="#ref-Rr6vpHbf" role="doc-biblioref">60</a></span>. Microfluidics, as an emerging tool to control the flow within micrometer-scale channels, is capable of manipulating the parameters dynamically and spatially, thus creating unique environments to meet the requirements for MCS formation. In addition, microfluidics can reduce the shear stress in order to minimize cell damage, and micrometer-scale chambers inside the microfluidics can be manipulated to control the size of MCS <span class="citation" data-cites="doi10.1039/c4an00015c">[<span class="citeproc-not-found" data-reference-id="doi10.1039/c4an00015c"><strong>???</strong></span>]</span>.</p>
<p>The microfluidic devices are designed to enhance the spheroid formation process by: providing size control; allowing rapid aggregation; requiring minimal interaction between the user and the device, and; replacing manual handling with engineered and automated procedures. These important capabilities have been achieved with the aid of transparent and biocompatible materials <span class="citation" data-cites="Rr6vpHbf"><a href="#ref-Rr6vpHbf" role="doc-biblioref">60</a></span>.</p>
<p>The emergence of “tumor-on-chip” technology provides an alternative to study multicellular and tumor microenvironment interactions in vitro. These chip devices have been extensively used to study tumor–stroma interactions, tumor-associated angiogenesis, and, recently, tumor–immune interactions <span class="citation" data-cites="Pw54cWAh"><a href="#ref-Pw54cWAh" role="doc-biblioref">61</a></span>.</p>
<p>Microfluidic channels are used to promote the formation of cellular aggregates. This method opens possibilities for the continuous production of highly controlled aggregates. However, this method currently requieres a technological capacity <span class="citation" data-cites="FAI1Fiuh"><a href="#ref-FAI1Fiuh" role="doc-biblioref">62</a></span>.</p>
<h3 id="three-dimensional-organoids">Three-Dimensional Organoids</h3>
<h2 id="mcs-and-pdac">MCS and PDAC</h2>
<p>Due to that pancreatic cancer is a heterogeneous disease researchers have been developed models capable to reproduce <em>in vitro</em> the heterogeneous tumor microenvironment.</p>
<p>Several methods to create 3D tumors <em>in vitro</em> have been proposed, with hanging drop technique being the simplest and most frequently used. However, in many cell lines this method has failed to form the desired 3D tumor structures.</p>
<p>A modified hanging drop method for 3D spheroid formation facilitated with methylcellulose yield a straightforward production of spheroids in PDAC cells and form well-rounded spheroids after 5 days in hanging drops. These spheroidshave have high tolerance to mechanical force, thus enabling standard manipulations and display some hallmarks of solid tumors, such as hypoxic zone, proliferating cells, and apoptotic regions <span class="citation" data-cites="1150iymMz"><a href="#ref-1150iymMz" role="doc-biblioref">63</a></span>.</p>
<p>3D pancreatic cancer spheroids, based on pancreatic cancer cells and fibroblast co-culture demonstrate innate desmoplastic properties and stay poorly permeable with relevant diffusion barrier function <span class="citation" data-cites="LXuoQBPY"><a href="#ref-LXuoQBPY" role="doc-biblioref">64</a></span>. Moreover,spheroids derived from pancreatic cancer cell lines cultivated with fibroblast-conditioned medium also mimic growth pattern of circulating tumor cell clusters and macrometastases <span class="citation" data-cites="367CP92p"><a href="#ref-367CP92p" role="doc-biblioref">65</a></span>. Spheroid-based xenografts produced different extracellular matrix (ECM) components with uniformity in terms of ECM architecture recapitulating clinical PDA tumors. Moreover, establishment of tumors by transplantation of spheroids demonstrate higher expression of pro-fibrotic and pro-survival PDAC hallmarks <span class="citation" data-cites="LXuoQBPY"><a href="#ref-LXuoQBPY" role="doc-biblioref">64</a></span>.</p>
<p>In the last years the characterization of a novel 3D tumor model has been in full swing.
A triple co-culture of pancreatic cancer cells (PANC-1), fibroblasts (MRC-5) and endothelial cells (HUVEC) to form a heterotype multicellular spheroid. The integration of the three cell types enable the presence of a core rich in fibroblasts and fibronectin in which endothelial cells are homogeneously distributed <span class="citation" data-cites="5dsO0GTM"><a href="#ref-5dsO0GTM" role="doc-biblioref">66</a></span>.</p>
<p>A microchannel model allow to develop a 3D pancreatic tumor in <em>vitro</em> by co-culturing pancreatic tumor spheroids with PSC in a collagen matrix. Under these conditions spheroids and PSCs are mutually activated when co-cultured. Under co-culture condition, tumor spheroids acquire a migratory phenotype with cancer cell-cell interactions, cell-ECM interactions, and cancer cell-PSC interactions <span class="citation" data-cites="NwBd78UZ"><a href="#ref-NwBd78UZ" role="doc-biblioref">67</a></span>. Additionally, a humanized PDAC model in microfluidic device has been developed that incorporates the <em>in vivo</em> complexities of multicellularity, ECM components, and a rationally-defined 3D microarchitecture. This humanized PDA model monitors the interactions between primary PSCs (from patients with PDA), cancer cells (PANC-1), and ECM components (neonatal human dermal fibroblasts) within the PDA microenvironment <span class="citation" data-cites="ZN5lVQzt"><a href="#ref-ZN5lVQzt" role="doc-biblioref">68</a></span>.</p>
<h2 class="page_break_before" id="references">References</h2>
<!-- Explicitly insert bibliography here -->
<div id="refs" class="references hanging-indent" role="doc-bibliography">
<div id="ref-11YZiQBk7">
<p>1. <strong>Global Cancer Observatory</strong><a href="https://gco.iarc.fr/">https://gco.iarc.fr/</a></p>
</div>
<div id="ref-RuU59j5K">
<p>2. <strong>The Pancreas Cancer Microenvironment</strong><br />
C. Feig, A. Gopinathan, A. Neesse, D. S. Chan, N. Cook, D. A. Tuveson<br />
<em>Clinical Cancer Research</em> (2012-08-14) <a href="https://doi.org/ggvhvg">https://doi.org/ggvhvg</a><br />
DOI: <a href="https://doi.org/10.1158/1078-0432.ccr-11-3114">10.1158/1078-0432.ccr-11-3114</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/22896693">22896693</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3442232">PMC3442232</a></p>
</div>
<div id="ref-5q5Guwqg">
<p>3. <strong>Tumor-associated stromal cells as key contributors to the tumor microenvironment</strong><br />
Karen M. Bussard, Lysette Mutkus, Kristina Stumpf, Candelaria Gomez-Manzano, Frank C. Marini<br />
<em>Breast Cancer Research</em> (2016-08-11) <a href="https://doi.org/f84qqm">https://doi.org/f84qqm</a><br />
DOI: <a href="https://doi.org/10.1186/s13058-016-0740-2">10.1186/s13058-016-0740-2</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/27515302">27515302</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4982339">PMC4982339</a></p>
</div>
<div id="ref-1H5NbKcoK">
<p>4. <strong>Microenvironment dependent gene expression signatures in reprogrammed human colon normal and cancer cell lines</strong><br />
Egle Strainiene, Mindaugas Binkis, Silvija Urnikyte, Vaidotas Stankevicius, Ausra Sasnauskiene, Gabrielis Kundrotas, Andrius Kazlauskas, Kestutis Suziedelis<br />
<em>BMC Cancer</em> (2018-02-27) <a href="https://doi.org/gc67ss">https://doi.org/gc67ss</a><br />
DOI: <a href="https://doi.org/10.1186/s12885-018-4145-8">10.1186/s12885-018-4145-8</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/29482503">29482503</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5827990">PMC5827990</a></p>
</div>
<div id="ref-17gCKJt8d">
<p>5. <strong>Spheroid-based 3-dimensional culture models: Gene expression and functionality in head and neck cancer</strong><br />
MARIANNE SCHMIDT, CLAUS-JUERGEN SCHOLZ, CHRISTINE POLEDNIK, JEANETTE ROLLER<br />
<em>Oncology Reports</em> (2016-04) <a href="https://doi.org/f8dtb2">https://doi.org/f8dtb2</a><br />
DOI: <a href="https://doi.org/10.3892/or.2016.4581">10.3892/or.2016.4581</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26797047">26797047</a></p>
</div>
<div id="ref-VWxcgXoP">
<p>6. <strong>Three-Dimensional Cell Culture: A Breakthrough in Vivo</strong><br />
Delphine Antoni, Hélène Burckel, Elodie Josset, Georges Noel<br />
<em>International Journal of Molecular Sciences</em> (2015-03-11) <a href="https://doi.org/f68skc">https://doi.org/f68skc</a><br />
DOI: <a href="https://doi.org/10.3390/ijms16035517">10.3390/ijms16035517</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25768338">25768338</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4394490">PMC4394490</a></p>
</div>
<div id="ref-HFNrejAA">
<p>7. <strong>Cancer cell spheroids are a better screen for the photodynamic efficiency of glycosylated photosensitizers</strong><br />
Patrícia M. R. Pereira, Naxhije Berisha, N. V. S. Dinesh K. Bhupathiraju, Rosa Fernandes, João P. C. Tomé, Charles Michael Drain<br />
<em>PLOS ONE</em> (2017-05-17) <a href="https://doi.org/f986w7">https://doi.org/f986w7</a><br />
DOI: <a href="https://doi.org/10.1371/journal.pone.0177737">10.1371/journal.pone.0177737</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/28545086">28545086</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5435229">PMC5435229</a></p>
</div>
<div id="ref-sQVRXAVl">
<p>8. <strong>Stromal biology of pancreatic cancer</strong><br />
Gerald C. Chu, Alec C. Kimmelman, Aram F. Hezel, Ronald A. DePinho<br />
<em>Journal of Cellular Biochemistry</em> (2007-07-01) <a href="https://doi.org/b8w83q">https://doi.org/b8w83q</a><br />
DOI: <a href="https://doi.org/10.1002/jcb.21209">10.1002/jcb.21209</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/17266048">17266048</a></p>
</div>
<div id="ref-KAVoATOK">
<p>9. <strong>Pancreatic Cancer Metabolism: Breaking It Down to Build It Back Up</strong><br />
R. M. Perera, N. Bardeesy<br />
<em>Cancer Discovery</em> (2015-11-03) <a href="https://doi.org/ggt22b">https://doi.org/ggt22b</a><br />
DOI: <a href="https://doi.org/10.1158/2159-8290.cd-15-0671">10.1158/2159-8290.cd-15-0671</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26534901">26534901</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4687899">PMC4687899</a></p>
</div>
<div id="ref-38mgBSlU">
<p>10. <strong>Tumor–stromal cell interaction under hypoxia increases the invasiveness of pancreatic cancer cells through the hepatocyte growth factor/c-Met pathway</strong><br />
Takao Ide, Yoshihiko Kitajima, Atsushi Miyoshi, Takao Ohtsuka, Mayumi Mitsuno, Kazuma Ohtaka, Yasuo Koga, Kohji Miyazaki<br />
<em>International Journal of Cancer</em> (2006-12-15) <a href="https://doi.org/bcmh42">https://doi.org/bcmh42</a><br />
DOI: <a href="https://doi.org/10.1002/ijc.22178">10.1002/ijc.22178</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/16998831">16998831</a></p>
</div>
<div id="ref-GL34JrWE">
<p>11. <strong>Aberrant signaling pathways in pancreatic cancer: A two compartment view</strong><br />
Angela L. McCleary-Wheeler, Robert McWilliams, Martin E. Fernandez-Zapico<br />
<em>Molecular Carcinogenesis</em> (2012-01) <a href="https://doi.org/dhx9xm">https://doi.org/dhx9xm</a><br />
DOI: <a href="https://doi.org/10.1002/mc.20827">10.1002/mc.20827</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/22162229">22162229</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3253704">PMC3253704</a></p>
</div>
<div id="ref-19a3aaOpn">
<p>12. <strong>Collagen-derived proline promotes pancreatic ductal adenocarcinoma cell survival under nutrient limited conditions</strong><br />
Orianne Olivares, Jared R. Mayers, Victoire Gouirand, Margaret E. Torrence, Tristan Gicquel, Laurence Borge, Sophie Lac, Julie Roques, Marie-Noëlle Lavaut, Patrice Berthezène, … Sophie Vasseur<br />
<em>Nature Communications</em> (2017-07-07) <a href="https://doi.org/gbnfz9">https://doi.org/gbnfz9</a><br />
DOI: <a href="https://doi.org/10.1038/ncomms16031">10.1038/ncomms16031</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/28685754">28685754</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5504351">PMC5504351</a></p>
</div>
<div id="ref-14JBpSZ12">
<p>13. <strong>Desmoplasia in Primary Tumors and Metastatic Lesions of Pancreatic Cancer</strong><br />
C. J. Whatcott, C. H. Diep, P. Jiang, A. Watanabe, J. LoBello, C. Sima, G. Hostetter, H. M. Shepard, D. D. Von Hoff, H. Han<br />
<em>Clinical Cancer Research</em> (2015-02-18) <a href="https://doi.org/f7skq4">https://doi.org/f7skq4</a><br />
DOI: <a href="https://doi.org/10.1158/1078-0432.ccr-14-1051">10.1158/1078-0432.ccr-14-1051</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25695692">25695692</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4526394">PMC4526394</a></p>
</div>
<div id="ref-Ev6ggnpZ">
<p>14. <strong>Collagen type V promotes the malignant phenotype of pancreatic ductal adenocarcinoma</strong><br />
Sonja Berchtold, Barbara Grünwald, Achim Krüger, Anja Reithmeier, Teresa Hähl, Tao Cheng, Annette Feuchtinger, Diana Born, Mert Erkan, Jörg Kleeff, Irene Esposito<br />
<em>Cancer Letters</em> (2015-01) <a href="https://doi.org/f8k9vx">https://doi.org/f8k9vx</a><br />
DOI: <a href="https://doi.org/10.1016/j.canlet.2014.10.020">10.1016/j.canlet.2014.10.020</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25449434">25449434</a></p>
</div>
<div id="ref-1t00YBK2">
<p>15. <strong>Collagen XV Inhibits Epithelial to Mesenchymal Transition in Pancreatic Adenocarcinoma Cells</strong><br />
Anthony G. Clementz, Michael J. Mutolo, Shih-Hsing Leir, Kirsten J. Morris, Karolina Kucybala, Henry Harris, Ann Harris<br />
<em>PLoS ONE</em> (2013-08-22) <a href="https://doi.org/f5dtbq">https://doi.org/f5dtbq</a><br />
DOI: <a href="https://doi.org/10.1371/journal.pone.0072250">10.1371/journal.pone.0072250</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23991074">23991074</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3750028">PMC3750028</a></p>
</div>
<div id="ref-1F1uomYOK">
<p>16. <strong>Is Collagen XV a Tumor Suppressor?</strong><br />
Henry Harris<br />
<em>DNA and Cell Biology</em> (2003-04) <a href="https://doi.org/bvkcnj">https://doi.org/bvkcnj</a><br />
DOI: <a href="https://doi.org/10.1089/104454903321908601">10.1089/104454903321908601</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/12823898">12823898</a></p>
</div>
<div id="ref-bTNVC2y5">
<p>17. <strong>LAMB3 mediates apoptotic, proliferative, invasive, and metastatic behaviors in pancreatic cancer by regulating the PI3K/Akt signaling pathway</strong><br />
Hong Zhang, Yao-zhen Pan, May Cheung, Mary Cao, Chao Yu, Ling Chen, Lei Zhan, Zhi-wei He, Cheng-yi Sun<br />
<em>Cell Death &amp; Disease</em> (2019-03-08) <a href="https://doi.org/ggxq7r">https://doi.org/ggxq7r</a><br />
DOI: <a href="https://doi.org/10.1038/s41419-019-1320-z">10.1038/s41419-019-1320-z</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30850586">30850586</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6408539">PMC6408539</a></p>
</div>
<div id="ref-Gtn8z1Es">
<p>18. <strong>Overexpression of α3, β3 and γ2 chains of laminin‑332 is associated with poor prognosis in pancreatic ductal adenocarcinoma</strong><br />
Jun Chen, Hao Zhang, Jiansheng Luo, Xiaokang Wu, Xueming Li, Xinyi Zhao, Dongkai Zhou, Shian Yu<br />
<em>Oncology Letters</em> (2018-05-09) <a href="https://doi.org/gdrkw2">https://doi.org/gdrkw2</a><br />
DOI: <a href="https://doi.org/10.3892/ol.2018.8678">10.3892/ol.2018.8678</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/29928402">29928402</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6006395">PMC6006395</a></p>
</div>
<div id="ref-11i5j9Exl">
<p>19. <strong>Evaluation of the diagnostic ability of laminin gene family for pancreatic ductal adenocarcinoma</strong><br />
Chengkun Yang, Zhengqian Liu, Xianmin Zeng, Qiongyuan Wu, Xiwen Liao, Xiangkun Wang, Chuangye Han, Tingdong Yu, Guangzhi Zhu, Wei Qin, Tao Peng<br />
<em>Aging</em> (2019-06-10) <a href="https://doi.org/ggxq7t">https://doi.org/ggxq7t</a><br />
DOI: <a href="https://doi.org/10.18632/aging.102007">10.18632/aging.102007</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/31182680">31182680</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6594799">PMC6594799</a></p>
</div>
<div id="ref-vpK24v4T">
<p>20. <strong>Laminin, gamma 2 (LAMC2): A Promising New Putative Pancreatic Cancer Biomarker Identified by Proteomic Analysis of Pancreatic Adenocarcinoma Tissues</strong><br />
Hari Kosanam, Ioannis Prassas, Caitlin C. Chrystoja, Ireena Soleas, Alison Chan, Apostolos Dimitromanolakis, Ivan M. Blasutig, Felix Rückert, Robert Gruetzmann, Christian Pilarsky, … Eleftherios P. Diamandis<br />
<em>Molecular &amp; Cellular Proteomics</em> (2013-10) <a href="https://doi.org/f5rfqp">https://doi.org/f5rfqp</a><br />
DOI: <a href="https://doi.org/10.1074/mcp.m112.023507">10.1074/mcp.m112.023507</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23798558">23798558</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3790293">PMC3790293</a></p>
</div>
<div id="ref-DugWn0Zz">
<p>21. <strong>Matrix control of pancreatic cancer: New insights into fibronectin signaling</strong><br />
Mary Topalovski, Rolf A. Brekken<br />
<em>Cancer Letters</em> (2016-10) <a href="https://doi.org/10.1016/j.canlet.2015.12.027">https://doi.org/10.1016/j.canlet.2015.12.027</a><br />
DOI: <a href="https://doi.org/10.1016/j.canlet.2015.12.027">10.1016/j.canlet.2015.12.027</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26742464">26742464</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4927402">PMC4927402</a></p>
</div>
<div id="ref-17rzZzzuy">
<p>22. <strong>Integrin Signaling</strong><br />
F. G. Giancotti<br />
<em>Science</em> (1999-08-13) <a href="https://doi.org/fpgpt7">https://doi.org/fpgpt7</a><br />
DOI: <a href="https://doi.org/10.1126/science.285.5430.1028">10.1126/science.285.5430.1028</a></p>
</div>
<div id="ref-18POCixpi">
<p>23. <strong>Integrin signalling at a glance</strong><br />
D. S. Harburger, D. A. Calderwood<br />
<em>Journal of Cell Science</em> (2008-12-31) <a href="https://doi.org/b4wvs5">https://doi.org/b4wvs5</a><br />
DOI: <a href="https://doi.org/10.1242/jcs.018093">10.1242/jcs.018093</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/19118207">19118207</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2714413">PMC2714413</a></p>
</div>
<div id="ref-Cyp12B9B">
<p>24. <strong>Integrin activation</strong><br />
D. A. Calderwood<br />
<em>Journal of Cell Science</em> (2004-03-01) <a href="https://doi.org/bjtgc3">https://doi.org/bjtgc3</a><br />
DOI: <a href="https://doi.org/10.1242/jcs.01014">10.1242/jcs.01014</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/14754902">14754902</a></p>
</div>
<div id="ref-uSTs3y64">
<p>25. <strong>ALTERED MATRIX METALLOPROTEINASE EXPRESSION ASSOCIATED WITH ONCOGENE-MEDIATED CELLULAR TRANSFORMATION AND METASTASIS FORMATION</strong><br />
R Baruch<br />
<em>Cell Biology International</em> (2001-05) <a href="https://doi.org/fnvccv">https://doi.org/fnvccv</a><br />
DOI: <a href="https://doi.org/10.1006/cbir.2000.0647">10.1006/cbir.2000.0647</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/11401328">11401328</a></p>
</div>
<div id="ref-15y5LfITO">
<p>26. <strong>Expressions of Matrix Metalloproteinases 2, 7, and 9 in Carcinogenesis of Pancreatic Ductal Adenocarcinoma</strong><br />
Katarzyna Jakubowska, Anna Pryczynicz, Joanna Januszewska, Iwona Sidorkiewicz, Andrzej Kemona, Andrzej Niewiński, Łukasz Lewczuk, Bogusław Kędra, Katarzyna Guzińska-Ustymowicz<br />
<em>Disease Markers</em> (2016) <a href="https://doi.org/f9hdkw">https://doi.org/f9hdkw</a><br />
DOI: <a href="https://doi.org/10.1155/2016/9895721">10.1155/2016/9895721</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/27429508">27429508</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4939209">PMC4939209</a></p>
</div>
<div id="ref-YgELw5CD">
<p>27. <strong>Comprehensive Analysis of Matrix Metalloproteinase and Tissue Inhibitor Expression in Pancreatic Cancer: Increased Expression of Matrix Metalloproteinase-7 Predicts Poor Survival</strong><br />
L. E. Jones<br />
<em>Clinical Cancer Research</em> (2004-04-15) <a href="https://doi.org/c7sfqg">https://doi.org/c7sfqg</a><br />
DOI: <a href="https://doi.org/10.1158/1078-0432.ccr-1157-03">10.1158/1078-0432.ccr-1157-03</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/15102692">15102692</a></p>
</div>
<div id="ref-9J9rfwGU">
<p>28. <strong>Conophylline suppresses pancreatic cancer desmoplasia and cancer‐promoting cytokines produced by cancer‐associated fibroblasts</strong><br />
Norihiro Ishii, Kenichiro Araki, Takehiko Yokobori, Kei Hagiwara, Dorgormaa Gantumur, Takahiro Yamanaka, Tadashi Handa, Mariko Tsukagoshi, Takamichi Igarashi, Akira Watanabe, … Ken Shirabe<br />
<em>Cancer Science</em> (2018-12-13) <a href="https://doi.org/ggt57m">https://doi.org/ggt57m</a><br />
DOI: <a href="https://doi.org/10.1111/cas.13847">10.1111/cas.13847</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30353606">30353606</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6317962">PMC6317962</a></p>
</div>
<div id="ref-37ZKrEp8">
<p>29. <strong>A Starring Role for Stellate Cells in the Pancreatic Cancer Microenvironment</strong><br />
Minoti V. Apte, Jeremy S. Wilson, Aurelia Lugea, Stephen J. Pandol<br />
<em>Gastroenterology</em> (2013-05) <a href="https://doi.org/f2j2rr">https://doi.org/f2j2rr</a><br />
DOI: <a href="https://doi.org/10.1053/j.gastro.2012.11.037">10.1053/j.gastro.2012.11.037</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23622130">23622130</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3729446">PMC3729446</a></p>
</div>
<div id="ref-bh4Hw8k2">
<p>30. <strong>CD10+ Pancreatic Stellate Cells Enhance the Progression of Pancreatic Cancer</strong><br />
Naoki Ikenaga, Kenoki Ohuchida, Kazuhiro Mizumoto, Lin Cui, Tadashi Kayashima, Katsuya Morimatsu, Taiki Moriyama, Kohei Nakata, Hayato Fujita, Masao Tanaka<br />
<em>Gastroenterology</em> (2010-09) <a href="https://doi.org/cps2bn">https://doi.org/cps2bn</a><br />
DOI: <a href="https://doi.org/10.1053/j.gastro.2010.05.084">10.1053/j.gastro.2010.05.084</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/20685603">20685603</a></p>
</div>
<div id="ref-1E7uwpYD3">
<p>31. <strong>Cancer-associated fibroblasts in pancreatic adenocarcinoma</strong><br />
Boju Pan, Quan Liao, Zheyu Niu, Li Zhou, Yupei Zhao<br />
<em>Future Oncology</em> (2015-09) <a href="https://doi.org/f7sxbh">https://doi.org/f7sxbh</a><br />
DOI: <a href="https://doi.org/10.2217/fon.15.176">10.2217/fon.15.176</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26284509">26284509</a></p>
</div>
<div id="ref-1GqwmJ5Js">
<p>32. <strong>Human Pancreatic Carcinoma-Associated Fibroblasts Promote Expression of Co-inhibitory Markers on CD4+ and CD8+ T-Cells</strong><br />
Laia Gorchs, Carlos Fernández Moro, Peter Bankhead, Katharina P. Kern, Imrul Sadeak, Qingda Meng, Elena Rangelova, Helen Kaipe<br />
<em>Frontiers in Immunology</em> (2019-04-24) <a href="https://doi.org/ggt57p">https://doi.org/ggt57p</a><br />
DOI: <a href="https://doi.org/10.3389/fimmu.2019.00847">10.3389/fimmu.2019.00847</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/31068935">31068935</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6491453">PMC6491453</a></p>
</div>
<div id="ref-19n3w0dMn">
<p>33. <strong>2D and 3D cell cultures – a comparison of different types of cancer cell cultures</strong><br />
Marta Kapałczyńska, Tomasz Kolenda, Weronika Przybyła, Maria Zajączkowska, Anna Teresiak, Violetta Filas, Matthew Ibbs, Renata Bliźniak, Łukasz Łuczewski, Katarzyna Lamperska<br />
<em>Archives of Medical Science</em> (2016) <a href="https://doi.org/ggt3hn">https://doi.org/ggt3hn</a><br />
DOI: <a href="https://doi.org/10.5114/aoms.2016.63743">10.5114/aoms.2016.63743</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30002710">30002710</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6040128">PMC6040128</a></p>
</div>
<div id="ref-cP0DXWPm">
<p>34. <strong>Oncogenic human herpesvirus hijacks proline metabolism for tumorigenesis</strong><br />
Un Yung Choi, Jae Jin Lee, Angela Park, Wei Zhu, Hye-Ra Lee, Youn Jung Choi, Ji-Seung Yoo, Claire Yu, Pinghui Feng, Shou-Jiang Gao, … Jae U. Jung<br />
<em>Proceedings of the National Academy of Sciences</em> (2020-04-07) <a href="https://doi.org/ggt4fr">https://doi.org/ggt4fr</a><br />
DOI: <a href="https://doi.org/10.1073/pnas.1918607117">10.1073/pnas.1918607117</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/32213586">32213586</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7149499">PMC7149499</a></p>
</div>
<div id="ref-zle51Piv">
<p>35. <strong>Comparative Molecular Analysis of Cancer Behavior Cultured In Vitro, In Vivo, and Ex Vivo</strong><br />
Nicholas R. Hum, Aimy Sebastian, Sean F. Gilmore, Wei He, Kelly A. Martin, Aubree Hinckley, Karen R. Dubbin, Monica L. Moya, Elizabeth K. Wheeler, Matthew A. Coleman, Gabriela G. Loots<br />
<em>Cancers</em> (2020-03-14) <a href="https://doi.org/ggt4ft">https://doi.org/ggt4ft</a><br />
DOI: <a href="https://doi.org/10.3390/cancers12030690">10.3390/cancers12030690</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/32183351">32183351</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7140030">PMC7140030</a></p>
</div>
<div id="ref-WN8V4jLN">
<p>36. <strong>Is It Time to Start Transitioning From 2D to 3D Cell Culture?</strong><br />
Caleb Jensen, Yong Teng<br />
<em>Frontiers in Molecular Biosciences</em> (2020-03-06) <a href="https://doi.org/ggt4fs">https://doi.org/ggt4fs</a><br />
DOI: <a href="https://doi.org/10.3389/fmolb.2020.00033">10.3389/fmolb.2020.00033</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/32211418">32211418</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7067892">PMC7067892</a></p>
</div>
<div id="ref-Ui1DpBFW">
<p>37. <strong>Advances in multicellular spheroids formation</strong><br />
X. Cui, Y. Hartanto, H. Zhang<br />
<em>Journal of The Royal Society Interface</em> (2017-02) <a href="https://doi.org/ggt8pm">https://doi.org/ggt8pm</a><br />
DOI: <a href="https://doi.org/10.1098/rsif.2016.0877">10.1098/rsif.2016.0877</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/28202590">28202590</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5332573">PMC5332573</a></p>
</div>
<div id="ref-HgdcQxeE">
<p>38. <strong>Dynamic analysis of hepatoma spheroid formation: roles of E-cadherin and β1-integrin</strong><br />
Ruei-Zeng Lin, Li-Fang Chou, Chi-Chen Michael Chien, Hwan-You Chang<br />
<em>Cell and Tissue Research</em> (2006-02-18) <a href="https://doi.org/dx2zbb">https://doi.org/dx2zbb</a><br />
DOI: <a href="https://doi.org/10.1007/s00441-005-0148-2">10.1007/s00441-005-0148-2</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/16489443">16489443</a></p>
</div>
<div id="ref-1FRbbECDJ">
<p>39. <strong>E-cadherin, actin, microtubules and FAK dominate different spheroid formation phases and important elements of tissue integrity</strong><br />
I. Smyrek, B. Mathew, S. C. Fischer, S. M. Lissek, S. Becker, E. H. K. Stelzer<br />
<em>Biology Open</em> (2019-01-15) <a href="https://doi.org/ggt8pn">https://doi.org/ggt8pn</a><br />
DOI: <a href="https://doi.org/10.1242/bio.037051">10.1242/bio.037051</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30578251">30578251</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6361217">PMC6361217</a></p>
</div>
<div id="ref-4bV3ACIn">
<p>40. <strong>Diversity of cell-mediated adhesions in breast cancer spheroids</strong><br />
Andrea Ivascu, Manfred Kubbies<br />
<em>International Journal of Oncology</em> (2007-12-01) <a href="https://doi.org/gf8czq">https://doi.org/gf8czq</a><br />
DOI: <a href="https://doi.org/10.3892/ijo.31.6.1403">10.3892/ijo.31.6.1403</a></p>
</div>
<div id="ref-cDPiRtpp">
<p>41. <strong>Rapid Enhancement of Cellular Spheroid Assembly by Acoustically Driven Microcentrifugation</strong><br />
Layla Alhasan, Aisha Qi, Aswan Al-Abboodi, Amgad Rezk, Peggy P. Y. Chan, Ciprian Iliescu, Leslie Y. Yeo<br />
<em>ACS Biomaterials Science &amp; Engineering</em> (2016-05-18) <a href="https://doi.org/ggt8pj">https://doi.org/ggt8pj</a><br />
DOI: <a href="https://doi.org/10.1021/acsbiomaterials.6b00144">10.1021/acsbiomaterials.6b00144</a></p>
</div>
<div id="ref-ik3m7VMZ">
<p>42. <strong>The role of actin filaments and microtubules in hepatocyte spheroid self-assembly.</strong><br />
ES Tzanakakis, LK Hansen, WS Hu<br />
<em>Cell motility and the cytoskeleton</em> (2001-03) <a href="https://www.ncbi.nlm.nih.gov/pubmed/11223949">https://www.ncbi.nlm.nih.gov/pubmed/11223949</a><br />
DOI: <a href="https://doi.org/10.1002/1097-0169(200103)48:3%3C175::aid-cm1007%3E3.0.co;2-2">10.1002/1097-0169(200103)48:3&lt;175::aid-cm1007&gt;3.0.co;2-2</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/11223949">11223949</a></p>
</div>
<div id="ref-J3geZCiu">
<p>43. <strong>Formation of size-controllable tumour spheroids using a microfluidic pillar array (μFPA) device</strong><br />
Wanyoung Lim, Hong-Hoa Hoang, Daeun You, Jeonghun Han, Jeong Eon Lee, Sangmin Kim, Sungsu Park<br />
<em>The Analyst</em> (2018) <a href="https://doi.org/gfnsnm">https://doi.org/gfnsnm</a><br />
DOI: <a href="https://doi.org/10.1039/c8an01752b">10.1039/c8an01752b</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30379148">30379148</a></p>
</div>
<div id="ref-hd42U1Sd">
<p>44. <strong>3D tumor spheroid models for in vitro therapeutic screening: a systematic approach to enhance the biological relevance of data obtained</strong><br />
Michele Zanoni, Filippo Piccinini, Chiara Arienti, Alice Zamagni, Spartaco Santi, Rolando Polico, Alessandro Bevilacqua, Anna Tesei<br />
<em>Scientific Reports</em> (2016-01-11) <a href="https://doi.org/ggt8pk">https://doi.org/ggt8pk</a><br />
DOI: <a href="https://doi.org/10.1038/srep19103">10.1038/srep19103</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26752500">26752500</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4707510">PMC4707510</a></p>
</div>
<div id="ref-15P6BlUgd">
<p>45. <strong>Spherical Cancer Models in Tumor Biology</strong><br />
Louis-Bastien Weiswald, Dominique Bellet, Virginie Dangles-Marie<br />
<em>Neoplasia</em> (2015-01) <a href="https://doi.org/f6xf5r">https://doi.org/f6xf5r</a><br />
DOI: <a href="https://doi.org/10.1016/j.neo.2014.12.004">10.1016/j.neo.2014.12.004</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25622895">25622895</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4309685">PMC4309685</a></p>
</div>
<div id="ref-182EeIzsH">
<p>46. <strong>Comparison of 2D- and 3D-culture models as drug-testing platforms in breast cancer</strong><br />
YOSHINORI IMAMURA, TORU MUKOHARA, YOHEI SHIMONO, YOHEI FUNAKOSHI, NAOKO CHAYAHARA, MASANORI TOYODA, NAOMI KIYOTA, SHINTARO TAKAO, SEISHI KONO, TETSUYA NAKATSURA, HIRONOBU MINAMI<br />
<em>Oncology Reports</em> (2015-04) <a href="https://doi.org/ggt8pp">https://doi.org/ggt8pp</a><br />
DOI: <a href="https://doi.org/10.3892/or.2015.3767">10.3892/or.2015.3767</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25634491">25634491</a></p>
</div>
<div id="ref-Bi4Ti9dS">
<p>47. <strong>Three-dimensional tissue culture models in cancer biology</strong><br />
Jong Bin Kim<br />
<em>Seminars in Cancer Biology</em> (2005-10) <a href="https://doi.org/dk5d92">https://doi.org/dk5d92</a><br />
DOI: <a href="https://doi.org/10.1016/j.semcancer.2005.05.002">10.1016/j.semcancer.2005.05.002</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/15975824">15975824</a></p>
</div>
<div id="ref-zXTx2Pme">
<p>48. <strong>Three-dimensional cell culture: the missing link in drug discovery</strong><br />
Susan Breslin, Lorraine O’Driscoll<br />
<em>Drug Discovery Today</em> (2013-03) <a href="https://doi.org/ggt8tt">https://doi.org/ggt8tt</a><br />
DOI: <a href="https://doi.org/10.1016/j.drudis.2012.10.003">10.1016/j.drudis.2012.10.003</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23073387">23073387</a></p>
</div>
<div id="ref-10inV267M">
<p>49. <strong>Recent advances in three-dimensional multicellular spheroid culture for biomedical research</strong><br />
Ruei-Zhen Lin, Hwan-You Chang<br />
<em>Biotechnology Journal</em> (2008-10) <a href="https://doi.org/b2zq2w">https://doi.org/b2zq2w</a><br />
DOI: <a href="https://doi.org/10.1002/biot.200700228">10.1002/biot.200700228</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/18566957">18566957</a></p>
</div>
<div id="ref-92oBJNo7">
<p>50. <strong>Organotypic 3D cell culture models: using the rotating wall vessel to study host–pathogen interactions</strong><br />
Jennifer Barrila, Andrea L. Radtke, Aurélie Crabbé, Shameema F. Sarker, Melissa M. Herbst-Kralovetz, C. Mark Ott, Cheryl A. Nickerson<br />
<em>Nature Reviews Microbiology</em> (2010-10-15) <a href="https://doi.org/bx4352">https://doi.org/bx4352</a><br />
DOI: <a href="https://doi.org/10.1038/nrmicro2423">10.1038/nrmicro2423</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/20948552">20948552</a></p>
</div>
<div id="ref-GZXuDMGZ">
<p>51. <strong>A Simple Hanging Drop Cell Culture Protocol for Generation of 3D Spheroids</strong><br />
Ramsey Foty<br />
<em>Journal of Visualized Experiments</em> (2011-05-06) <a href="https://doi.org/fdn8n9">https://doi.org/fdn8n9</a><br />
DOI: <a href="https://doi.org/10.3791/2720">10.3791/2720</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/21587162">21587162</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3197119">PMC3197119</a></p>
</div>
<div id="ref-ABdkfHjc">
<p>52. <strong>Method for generation of homogeneous multicellular tumor spheroids applicable to a wide variety of cell types</strong><br />
Jens M. Kelm, Nicholas E. Timmins, Catherine J. Brown, Martin Fussenegger, Lars K. Nielsen<br />
<em>Biotechnology and Bioengineering</em> (2003-07-20) <a href="https://doi.org/drzwsj">https://doi.org/drzwsj</a><br />
DOI: <a href="https://doi.org/10.1002/bit.10655">10.1002/bit.10655</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/12768623">12768623</a></p>
</div>
<div id="ref-FM9Mwqe">
<p>53. <strong>Is “Hanging Drop” a Useful Method to Form Spheroids of Jimt, Mcf-7, T-47d, Bt-474 That are Breast Cancer Cell Lines</strong><br />
Yılmaz O, Sakarya S<br />
<em>Single Cell Biology</em> (2018) <a href="https://doi.org/ggt8tx">https://doi.org/ggt8tx</a><br />
DOI: <a href="https://doi.org/10.4172/2168-9431.1000170">10.4172/2168-9431.1000170</a></p>
</div>
<div id="ref-1Al9Ftwbr">
<p>54. <strong>Hanging-drop multicellular spheroids as a model of tumour angiogenesis</strong><br />
Nicholas Timmins, Stefanie Dietmair, Lars Nielsen<br />
<em>Angiogenesis</em> (2004) <a href="https://doi.org/drkw6h">https://doi.org/drkw6h</a><br />
DOI: <a href="https://doi.org/10.1007/s10456-004-8911-7">10.1007/s10456-004-8911-7</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/15516830">15516830</a></p>
</div>
<div id="ref-M0X95EmP">
<p>55. <strong>High-throughput 3D spheroid culture and drug testing using a 384 hanging drop array</strong><br />
Yi-Chung Tung, Amy Y. Hsiao, Steven G. Allen, Yu-suke Torisawa, Mitchell Ho, Shuichi Takayama<br />
<em>The Analyst</em> (2011) <a href="https://doi.org/b8hnq4">https://doi.org/b8hnq4</a><br />
DOI: <a href="https://doi.org/10.1039/c0an00609b">10.1039/c0an00609b</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/20967331">20967331</a></p>
</div>
<div id="ref-Xs0anLqB">
<p>56. <strong>Spheroid culture as a tool for creating 3D complex tissues</strong><br />
Eelco Fennema, Nicolas Rivron, Jeroen Rouwkema, Clemens van Blitterswijk, Jan de Boer<br />
<em>Trends in Biotechnology</em> (2013-02) <a href="https://doi.org/f4j3r8">https://doi.org/f4j3r8</a><br />
DOI: <a href="https://doi.org/10.1016/j.tibtech.2012.12.003">10.1016/j.tibtech.2012.12.003</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23336996">23336996</a></p>
</div>
<div id="ref-t4vf2ylX">
<p>57. <strong>Spheroid-based drug screen: considerations and practical approach</strong><br />
Juergen Friedrich, Claudia Seidel, Reinhard Ebner, Leoni A Kunz-Schughart<br />
<em>Nature Protocols</em> (2009-02-12) <a href="https://doi.org/dg3kwv">https://doi.org/dg3kwv</a><br />
DOI: <a href="https://doi.org/10.1038/nprot.2008.226">10.1038/nprot.2008.226</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/19214182">19214182</a></p>
</div>
<div id="ref-IDCMMKeN">
<p>58. <strong>The liquid overlay technique is the key to formation of co-culture spheroids consisting of primary osteoblasts, fibroblasts and endothelial cells</strong><br />
Wolfgang Metzger, Daniela Sossong, Annick Bächle, Norbert Pütz, Gunther Wennemuth, Tim Pohlemann, Martin Oberringer<br />
<em>Cytotherapy</em> (2011-09) <a href="https://doi.org/bqbf5p">https://doi.org/bqbf5p</a><br />
DOI: <a href="https://doi.org/10.3109/14653249.2011.583233">10.3109/14653249.2011.583233</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/21619419">21619419</a></p>
</div>
<div id="ref-1HrJvc7VG">
<p>59. <strong>Optimization of liquid overlay technique to formulate heterogenic 3D co-cultures models</strong><br />
Elisabete C. Costa, Vítor M. Gaspar, Paula Coutinho, Ilídio J. Correia<br />
<em>Biotechnology and Bioengineering</em> (2014-08) <a href="https://doi.org/f6f883">https://doi.org/f6f883</a><br />
DOI: <a href="https://doi.org/10.1002/bit.25210">10.1002/bit.25210</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/24615162">24615162</a></p>
</div>
<div id="ref-Rr6vpHbf">
<p>60. <strong>Spheroids-on-a-chip: Recent advances and design considerations in microfluidic platforms for spheroid formation and culture</strong><br />
Khashayar Moshksayan, Navid Kashaninejad, Majid Ebrahimi Warkiani, John G. Lock, Hajar Moghadas, Bahar Firoozabadi, Mohammad Said Saidi, Nam-Trung Nguyen<br />
<em>Sensors and Actuators B: Chemical</em> (2018-06) <a href="https://doi.org/ggt8tv">https://doi.org/ggt8tv</a><br />
DOI: <a href="https://doi.org/10.1016/j.snb.2018.01.223">10.1016/j.snb.2018.01.223</a></p>
</div>
<div id="ref-Pw54cWAh">
<p>61. <strong>An Engineered Tumor-on-a-Chip Device with Breast Cancer–Immune Cell Interactions for Assessing T-cell Recruitment</strong><br />
Aereas Aung, Vardhman Kumar, Jomkuan Theprungsirikul, Shruti K. Davey, Shyni Varghese<br />
<em>Cancer Research</em> (2020-01-15) <a href="https://doi.org/ggt8tw">https://doi.org/ggt8tw</a><br />
DOI: <a href="https://doi.org/10.1158/0008-5472.can-19-0342">10.1158/0008-5472.can-19-0342</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/31744818">31744818</a></p>
</div>
<div id="ref-FAI1Fiuh">
<p>62. <strong>Efficient formation of uniform-sized embryoid bodies using a compartmentalized microchannel device</strong><br />
Yu-suke Torisawa, Bor-han Chueh, Dongeun Huh, Poornapriya Ramamurthy, Therese M. Roth, Kate F. Barald, Shuichi Takayama<br />
<em>Lab on a Chip</em> (2007) <a href="https://doi.org/dq2pd7">https://doi.org/dq2pd7</a><br />
DOI: <a href="https://doi.org/10.1039/b618439a">10.1039/b618439a</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/17538720">17538720</a></p>
</div>
<div id="ref-1150iymMz">
<p>63. <strong>Generation of Homogenous Three-Dimensional Pancreatic Cancer Cell Spheroids Using an Improved Hanging Drop Technique</strong><br />
Matthew J. Ware, Kevin Colbert, Vazrik Keshishian, Jason Ho, Stuart J. Corr, Steven A. Curley, Biana Godin<br />
<em>Tissue Engineering Part C: Methods</em> (2016-04) <a href="https://doi.org/f8f74k">https://doi.org/f8f74k</a><br />
DOI: <a href="https://doi.org/10.1089/ten.tec.2015.0280">10.1089/ten.tec.2015.0280</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/26830354">26830354</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4827286">PMC4827286</a></p>
</div>
<div id="ref-LXuoQBPY">
<p>64. <strong>Subcutaneous Inoculation of 3D Pancreatic Cancer Spheroids Results in Development of Reproducible Stroma-Rich Tumors</strong><br />
Mikhail Durymanov, Christian Kroll, Anastasia Permyakova, Elizabeth O’Neill, Raed Sulaiman, Michael Person, Joshua Reineke<br />
<em>Translational Oncology</em> (2019-01) <a href="https://doi.org/ggt6j8">https://doi.org/ggt6j8</a><br />
DOI: <a href="https://doi.org/10.1016/j.tranon.2018.10.003">10.1016/j.tranon.2018.10.003</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30554606">30554606</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6295361">PMC6295361</a></p>
</div>
<div id="ref-367CP92p">
<p>65. <strong>Homogeneous pancreatic cancer spheroids mimic growth pattern of circulating tumor cell clusters and macrometastases: displaying heterogeneity and crater-like structure on inner layer</strong><br />
Hao Feng, Bao-chi Ou, Jing-kun Zhao, Shuai Yin, Ai-guo Lu, Eva Oechsle, Wolfgang E. Thasler<br />
<em>Journal of Cancer Research and Clinical Oncology</em> (2017-05-11) <a href="https://doi.org/ggvhss">https://doi.org/ggvhss</a><br />
DOI: <a href="https://doi.org/10.1007/s00432-017-2434-2">10.1007/s00432-017-2434-2</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/28497169">28497169</a></p>
</div>
<div id="ref-5dsO0GTM">
<p>66. <strong>Multicellular spheroid based on a triple co-culture: A novel 3D model to mimic pancreatic tumor complexity</strong><br />
Gianpiero Lazzari, Valérie Nicolas, Michiya Matsusaki, Mitsuru Akashi, Patrick Couvreur, Simona Mura<br />
<em>Acta Biomaterialia</em> (2018-09) <a href="https://doi.org/ggt6j7">https://doi.org/ggt6j7</a><br />
DOI: <a href="https://doi.org/10.1016/j.actbio.2018.08.008">10.1016/j.actbio.2018.08.008</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/30099198">30099198</a></p>
</div>
<div id="ref-NwBd78UZ">
<p>67. <strong>Microfluidic co-culture of pancreatic tumor spheroids with stellate cells as a novel 3D model for investigation of stroma-mediated cell motility and drug resistance</strong><br />
Ji-Hyun Lee, Seul-Ki Kim, Iftikhar Ali Khawar, Su-Yeong Jeong, Seok Chung, Hyo-Jeong Kuh<br />
<em>Journal of Experimental &amp; Clinical Cancer Research</em> (2018-01-12) <a href="https://doi.org/ggt6j9">https://doi.org/ggt6j9</a><br />
DOI: <a href="https://doi.org/10.1186/s13046-017-0654-6">10.1186/s13046-017-0654-6</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/29329547">29329547</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5767067">PMC5767067</a></p>
</div>
<div id="ref-ZN5lVQzt">
<p>68. <strong>A bioengineered heterotypic stroma–cancer microenvironment model to study pancreatic ductal adenocarcinoma</strong><br />
Cole R. Drifka, Kevin W. Eliceiri, Sharon M. Weber, W. John Kao<br />
<em>Lab on a Chip</em> (2013) <a href="https://doi.org/f5fpjs">https://doi.org/f5fpjs</a><br />
DOI: <a href="https://doi.org/10.1039/c3lc50487e">10.1039/c3lc50487e</a> · PMID: <a href="https://www.ncbi.nlm.nih.gov/pubmed/23959166">23959166</a> · PMCID: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3834588">PMC3834588</a></p>
</div>
</div>
<!-- default theme -->

<style>
    /* import google fonts */
    @import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700");
    @import url("https://fonts.googleapis.com/css?family=Source+Code+Pro");

    /* -------------------------------------------------- */
    /* global */
    /* -------------------------------------------------- */

    /* all elements */
    * {
        /* force sans-serif font unless specified otherwise */
        font-family: "Open Sans", "Helvetica", sans-serif;

        /* prevent text inflation on some mobile browsers */
        -webkit-text-size-adjust: none !important;
        -moz-text-size-adjust: none !important;
        -o-text-size-adjust: none !important;
        text-size-adjust: none !important;
    }

    @media only screen {
        /* "page" element */
        body {
            position: relative;
            box-sizing: border-box;
            font-size: 12pt;
            line-height: 1.5;
            max-width: 8.5in;
            margin: 20px auto;
            padding: 40px;
            border-radius: 5px;
            border: solid 1px #bdbdbd;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            background: #ffffff;
        }
    }

    /* when on screen < 8.5in wide */
    @media only screen and (max-width: 8.5in) {
        /* "page" element */
        body {
            padding: 20px;
            margin: 0;
            border-radius: 0;
            border: none;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05) inset;
            background: none;
        }
    }

    /* -------------------------------------------------- */
    /* headings */
    /* -------------------------------------------------- */

    /* all headings */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 20px 0;
        padding: 0;
        font-weight: bold;
    }

    /* biggest heading */
    h1 {
        margin: 40px 0;
        text-align: center;
    }

    /* second biggest heading */
    h2 {
        margin-top: 30px;
        padding-bottom: 5px;
        border-bottom: solid 1px #bdbdbd;
    }

    /* -------------------------------------------------- */
    /* manuscript header */
    /* -------------------------------------------------- */

    /* manuscript title */
    header > h1 {
        margin: 0;
    }

    /* manuscript title caption text (ie "automatically generated on") */
    header + p {
        text-align: center;
        margin-top: 10px;
    }

    /* -------------------------------------------------- */
    /* text elements */
    /* -------------------------------------------------- */

    /* links */
    a {
        color: #2196f3;
        overflow-wrap: break-word;
    }

    /* normal links (not empty, not button link, not syntax highlighting link) */
    a:not(:empty):not(.button):not(.sourceLine) {
        padding-left: 1px;
        padding-right: 1px;
    }

    /* superscripts and subscripts */
    sub,
    sup {
        /* prevent from affecting line height */
        line-height: 0;
    }

    /* unordered and ordered lists*/
    ul,
    ol {
        padding-left: 20px;
    }

    /* class for styling text semibold */
    .semibold {
        font-weight: 600;
    }

    /* class for styling elements horizontally left aligned */
    .left {
        display: block;
        text-align: left;
        margin-left: auto;
        margin-right: 0;
        justify-content: left;
    }

    /* class for styling elements horizontally centered */
    .center {
        display: block;
        text-align: center;
        margin-left: auto;
        margin-right: auto;
        justify-content: center;
    }

    /* class for styling elements horizontally right aligned */
    .right {
        display: block;
        text-align: right;
        margin-left: 0;
        margin-right: auto;
        justify-content: right;
    }

    /* -------------------------------------------------- */
    /* section elements */
    /* -------------------------------------------------- */

    /* horizontal divider line */
    hr {
        border: none;
        height: 1px;
        background: #bdbdbd;
    }

    /* paragraphs, horizontal dividers, figures, tables, code */
    p,
    hr,
    figure,
    table,
    pre {
        /* treat all as "paragraphs", with consistent vertical margins */
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* -------------------------------------------------- */
    /* figures */
    /* -------------------------------------------------- */

    /* figure */
    figure {
        max-width: 100%;
        margin-left: auto;
        margin-right: auto;
    }

    /* figure caption */
    figcaption {
        padding: 0;
        padding-top: 10px;
    }

    /* figure image element */
    figure img {
        max-width: 100%;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    /* figure auto-number */
    img + figcaption > span:first-of-type {
        font-weight: bold;
        margin-right: 5px;
    }

    /* -------------------------------------------------- */
    /* tables */
    /* -------------------------------------------------- */

    /* table */
    table {
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
        margin-left: auto;
        margin-right: auto;
    }

    /* table cells */
    th,
    td {
        border: solid 1px #bdbdbd;
        padding: 10px;
        /* squash table if too wide for page by forcing line breaks */
        overflow-wrap: break-word;
        word-break: break-word;
    }

    /* header row and even rows */
    th,
    tr:nth-child(2n) {
        background-color: #fafafa;
    }

    /* odd rows */
    tr:nth-child(2n + 1) {
        background-color: #ffffff;
    }

    /* table caption */
    caption {
        text-align: left;
        padding: 0;
        padding-bottom: 10px;
    }

    /* table auto-number */
    table > caption > span:first-of-type,
    div.table_wrapper > table > caption > span:first-of-type {
        font-weight: bold;
        margin-right: 5px;
    }

    /* -------------------------------------------------- */
    /* code */
    /* -------------------------------------------------- */

    /* multi-line code block */
    pre {
        padding: 10px;
        background-color: #eeeeee;
        color: #000000;
        border-radius: 5px;
        break-inside: avoid;
        text-align: left;
    }

    /* inline code, ie code within normal text */
    :not(pre) > code {
        padding: 0 4px;
        background-color: #eeeeee;
        color: #000000;
        border-radius: 5px;
    }

    /* code text */
    /* apply all children, to reach syntax highlighting sub-elements */
    code,
    code * {
        /* force monospace font */
        font-family: "Source Code Pro", "Courier New", monospace;
    }

    /* -------------------------------------------------- */
    /* quotes */
    /* -------------------------------------------------- */

    /* quoted text */
    blockquote {
        margin: 0;
        padding: 0;
        border-left: 4px solid #bdbdbd;
        padding-left: 16px;
        break-inside: avoid;
    }

    /* -------------------------------------------------- */
    /* banners */
    /* -------------------------------------------------- */

    /* info banners */
    .banner {
        box-sizing: border-box;
        display: block;
        position: relative;
        width: 100%;
        margin-top: 20px;
        margin-bottom: 20px;
        padding: 20px;
        text-align: center;
    }

    /* paragraph in banner */
    .banner > p {
        margin: 0;
    }

    /* -------------------------------------------------- */
    /* highlight colors */
    /* -------------------------------------------------- */

    .white {
        background: #ffffff;
    }
    .lightgrey {
        background: #eeeeee;
    }
    .grey {
        background: #757575;
    }
    .darkgrey {
        background: #424242;
    }
    .black {
        background: #000000;
    }
    .lightred {
        background: #ffcdd2;
    }
    .lightyellow {
        background: #ffecb3;
    }
    .lightgreen {
        background: #dcedc8;
    }
    .lightblue {
        background: #e3f2fd;
    }
    .lightpurple {
        background: #f3e5f5;
    }
    .red {
        background: #f44336;
    }
    .orange {
        background: #ff9800;
    }
    .yellow {
        background: #ffeb3b;
    }
    .green {
        background: #4caf50;
    }
    .blue {
        background: #2196f3;
    }
    .purple {
        background: #9c27b0;
    }
    .white,
    .lightgrey,
    .lightred,
    .lightyellow,
    .lightgreen,
    .lightblue,
    .lightpurple,
    .orange,
    .yellow,
    .white a,
    .lightgrey a,
    .lightred a,
    .lightyellow a,
    .lightgreen a,
    .lightblue a,
    .lightpurple a,
    .orange a,
    .yellow a {
        color: #000000;
    }
    .grey,
    .darkgrey,
    .black,
    .red,
    .green,
    .blue,
    .purple,
    .grey a,
    .darkgrey a,
    .black a,
    .red a,
    .green a,
    .blue a,
    .purple a {
        color: #ffffff;
    }

    /* -------------------------------------------------- */
    /* buttons */
    /* -------------------------------------------------- */

    /* class for styling links like buttons */
    .button {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        margin: 5px;
        padding: 10px 20px;
        font-size: 0.75em;
        font-weight: 600;
        text-transform: uppercase;
        text-decoration: none;
        letter-spacing: 1px;
        background: none;
        color: #2196f3;
        border: solid 1px #bdbdbd;
        border-radius: 5px;
    }

    /* buttons when hovered */
    .button:hover:not([disabled]),
    .icon_button:hover:not([disabled]) {
        cursor: pointer;
        background: #f5f5f5;
    }

    /* buttons when disabled */
    .button[disabled],
    .icon_button[disabled] {
        opacity: 0.35;
        pointer-events: none;
    }

    /* class for styling buttons containg only single icon */
    .icon_button {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        margin: 0;
        padding: 0;
        background: none;
        border-radius: 5px;
        border: none;
        width: 20px;
        height: 20px;
        min-width: 20px;
        min-height: 20px;
    }

    /* icon button inner svg image */
    .icon_button > svg {
        height: 16px;
    }

    /* -------------------------------------------------- */
    /* icons */
    /* -------------------------------------------------- */

    /* class for styling icons inline with text */
    .inline_icon {
        height: 1em;
        position: relative;
        top: 0.125em;
    }

    /* -------------------------------------------------- */
    /* print control */
    /* -------------------------------------------------- */

    @media print {
        @page {
            /* suggested printing margin */
            margin: 0.5in;
        }

        /* document and "page" elements */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        /* "page" element */
        body {
            font-size: 11pt !important;
            line-height: 1.35;
        }

        /* all headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 15px 0;
        }

        /* heading 1 */
        h1 {
            font-size: 1.75em;
        }

        /* heading 2 */
        h2 {
            font-size: 1.25em;
            margin-top: 0;
        }

        /* heading 3 */
        h3 {
            font-size: 1.10em;
        }

        /* figures and tables */
        figure, table {
            font-size: 0.85em;
        }

        /* table cells */
        th,
        td {
            padding: 5px;
        }

        /* shrink font awesome icons */
        i.fas,
        i.fab,
        i.far,
        i.fal {
            transform: scale(0.85);
        }

        /* decrease banner margins */
        .banner {
            margin-top: 15px;
            margin-bottom: 15px;
            padding: 15px;
        }

        /* class for centering an element vertically on its own page */
        .page_center {
            margin: auto;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            vertical-align: middle;
            break-before: page;
            break-after: page;
        }

        /* always insert a page break before the element */
        .page_break_before {
            break-before: page;
        }

        /* always insert a page break after the element */
        .page_break_after {
            break-after: page;
        }

        /* avoid page break before the element */
        .page_break_before_avoid {
            break-before: avoid;
        }

        /* avoid page break after the element */
        .page_break_after_avoid {
            break-after: avoid;
        }

        /* avoid page break inside the element */
        .page_break_inside_avoid {
            break-inside: avoid;
        }
    }

    /* -------------------------------------------------- */
    /* override pandoc css quirks */
    /* -------------------------------------------------- */

    .sourceCode {
        /* prevent unsightly overflow in wide code blocks */
        overflow: auto !important;
    }

    div.sourceCode {
        /* prevent background fill on top-most code block  container */
        background: none !important;
    }

    .sourceCode * {
        /* force consistent line spacing */
        line-height: 1.5 !important;
    }

    div.sourceCode {
        /* style code block margins same as <pre> element */
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* -------------------------------------------------- */
    /* tablenos */
    /* -------------------------------------------------- */

    /* tablenos wrapper */
    .tablenos {
        /* show scrollbar on tables if necessary to prevent overflow */
        width: 100%;
        margin: 20px 0;
    }

    .tablenos > table {
        /* move margins from table to table_wrapper to allow margin collapsing */
        margin: 0;
    }

    @media only screen {
        /* tablenos wrapper */
        .tablenos {
            /* show scrollbar on tables if necessary to prevent overflow */
            overflow-x: auto !important;
        }

        .tablenos th,
        .tablenos td {
            overflow-wrap: unset !important;
            word-break: unset !important;
        }

        /* table in wrapper */
        .tablenos table,
        .tablenos table * {
            /* don't break table words */
            overflow-wrap: normal !important;
        }
    }

    /* -------------------------------------------------- */
    /* mathjax */
    /* -------------------------------------------------- */

    /* mathjax containers */
    .math.display > span:not(.MathJax_Preview) {
        /* turn inline element (no dimensions) into block (allows fixed width and thus scrolling) */
        display: flex !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        justify-content: center;
        align-items: center;
        margin: 0 !important;
    }

    /* right click menu */
    .MathJax_Menu {
        border-radius: 5px !important;
        border: solid 1px #bdbdbd !important;
        box-shadow: none !important;
    }

    /* equation auto-number */
    span[id^="eq:"] > span.math.display + span {
        font-weight: 600;
    }

    /* equation */
    span[id^="eq:"] > span.math.display > span {
        /* nudge to make room for equation auto-number and anchor */
        margin-right: 60px !important;
    }

    /* -------------------------------------------------- */
    /* anchors plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* anchor button */
        .anchor {
            opacity: 0;
            margin-left: 5px;
        }

        /* anchor buttons within <h2>'s */
        h2 .anchor {
            margin-left: 10px;
        }

        /* anchor buttons when hovered/focused and anything containing an anchor button when hovered */
        *:hover > .anchor,
        .anchor:hover,
        .anchor:focus {
            opacity: 1;
        }

        /* anchor button when hovered */
        .anchor:hover {
            cursor: pointer;
        }
    }

    /* always show anchor button on devices with no mouse/hover ability */
    @media (hover: none) {
        .anchor {
            opacity: 1;
        }
    }

    /* always hide anchor button on print */
    @media only print {
        .anchor {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* accordion plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* accordion arrow button */
        .accordion_arrow {
            margin-right: 10px;
        }

        /* arrow icon when <h2> data-collapsed attribute true */
        h2[data-collapsed="true"] > .accordion_arrow > svg {
            transform: rotate(-90deg);
        }

        /* all elements (except <h2>'s) when data-collapsed attribute true */
        *:not(h2)[data-collapsed="true"] {
            display: none;
        }

        /* accordion arrow button when hovered and <h2>'s when hovered */
        .accordion_arrow:hover,
        h2[data-collapsed="true"]:hover,
        h2[data-collapsed="false"]:hover {
            cursor: pointer;
        }
    }

    /* always hide accordion arrow button on print */
    @media only print {
        .accordion_arrow {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* tooltips plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* tooltip container */
        #tooltip {
            position: absolute;
            width: 50%;
            min-width: 240px;
            max-width: 75%;
            z-index: 1;
        }

        /* tooltip content */
        #tooltip_content {
            margin-bottom: 5px;
            padding: 20px;
            border-radius: 5px;
            border: solid 1px #bdbdbd;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            background: #ffffff;
            overflow-wrap: break-word;
        }

        /* tooltip copy of paragraphs and figures */
        #tooltip_content > p,
        #tooltip_content > figure {
            margin: 0;
            max-height: 320px;
            overflow-y: auto;
        }

        /* tooltip copy of <img> */
        #tooltip_content > figure > img {
            max-height: 260px;
        }

        /* navigation bar */
        #tooltip_nav_bar {
            margin-top: 10px;
            text-align: center;
        }

        /* navigation bar previous/next buton */
        #tooltip_nav_bar > .icon_button {
            position: relative;
            top: 3px;
        }

        /* navigation bar previous button */
        #tooltip_nav_bar > .icon_button:first-of-type {
            margin-right: 5px;
        }

        /* navigation bar next button */
        #tooltip_nav_bar > .icon_button:last-of-type {
            margin-left: 5px;
        }
    }

    /* always hide tooltip on print */
    @media only print {
        #tooltip {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* jump to first plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* jump button */
        .jump_arrow {
            position: relative;
            top: 0.125em;
            margin-right: 5px;
        }
    }

    /* always hide jump button on print */
    @media only print {
        .jump_arrow {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* link highlight plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* anything with data-highlighted attribute true */
        [data-highlighted="true"] {
            background: #ffeb3b;
        }

        /* anything with data-selected attribute true */
        [data-selected="true"] {
            background: #ff8a65 !important;
        }

        /* animation definition for glow */
        @keyframes highlight_glow {
            0% {
                background: none;
            }
            10% {
                background: #bbdefb;
            }
            100% {
                background: none;
            }
        }

        /* anything with data-glow attribute true */
        [data-glow="true"] {
            animation: highlight_glow 2s;
        }
    }

    /* -------------------------------------------------- */
    /* table of contents plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* toc panel */
        #toc_panel {
            box-sizing: border-box;
            position: fixed;
            top: 0;
            left: 0;
            background: #ffffff;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            z-index: 2;
        }

        /* toc panel when closed */
        #toc_panel[data-open="false"] {
            min-width: 60px;
            width: 60px;
            height: 60px;
            border-right: solid 1px #bdbdbd;
            border-bottom: solid 1px #bdbdbd;
        }

        /* toc panel when open */
        #toc_panel[data-open="true"] {
            min-width: 260px;
            max-width: 480px;
            /* keep panel edge consistent distance away from "page" edge */
            width: calc(((100vw - 8.5in) / 2) - 30px - 40px);
            bottom: 0;
            border-right: solid 1px #bdbdbd;
        }

        /* toc panel header */
        #toc_header {
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            align-items: center;
            height: 60px;
            margin: 0;
            padding: 20px;
        }

        /* toc panel header when hovered */
        #toc_header:hover {
            cursor: pointer;
        }

        /* toc panel header when panel open */
        #toc_panel[data-open="true"] > #toc_header {
            border-bottom: solid 1px #bdbdbd;
        }

        /* toc open/close header button */
        #toc_button {
            margin-right: 20px;
        }

        /* hide toc list and header text when closed */
        #toc_panel[data-open="false"] > #toc_header > *:not(#toc_button),
        #toc_panel[data-open="false"] > #toc_list {
            display: none;
        }

        /* toc list of entries */
        #toc_list {
            box-sizing: border-box;
            width: 100%;
            padding: 20px;
            position: absolute;
            top: calc(60px + 1px);
            bottom: 0;
            overflow: auto;
        }

        /* toc entry, link to section in document */
        .toc_link {
            display: block;
            padding: 5px;
            position: relative;
            font-weight: 600;
            text-decoration: none;
        }

        /* toc entry when hovered or when "viewed" */
        .toc_link:hover,
        .toc_link[data-viewing="true"] {
            background: #f5f5f5;
        }

        /* toc entry, level 1 indentation */
        .toc_link[data-level="1"] {
            margin-left: 0;
        }

        /* toc entry, level 2 indentation */
        .toc_link[data-level="2"] {
            margin-left: 20px;
        }

        /* toc entry, level 3 indentation */
        .toc_link[data-level="3"] {
            margin-left: 40px;
        }

        /* toc entry, level 4 indentation */
        .toc_link[data-level="4"] {
            margin-left: 60px;
        }

        /* toc entry bullets */
        #toc_panel[data-bullets="true"] .toc_link[data-level]:before {
            position: absolute;
            left: -15px;
            top: -1px;
            font-size: 1.5em;
        }

        /* toc entry, level 2 bullet */
        #toc_panel[data-bullets="true"] .toc_link[data-level="2"]:before {
            content: "\2022";
        }

        /* toc entry, level 3 bullet */
        #toc_panel[data-bullets="true"] .toc_link[data-level="3"]:before {
            content: "\25AB";
        }

        /* toc entry, level 4 bullet */
        #toc_panel[data-bullets="true"] .toc_link[data-level="4"]:before {
            content: "-";
        }
    }

    /* when on screen < 8.5in wide */
    @media only screen and (max-width: 8.5in) {
        /* push <body> ("page") element down to make room for toc icon */
        .toc_body_nudge {
            padding-top: 60px;
        }

        /* toc icon when panel closed and not hovered */
        #toc_panel[data-open="false"]:not(:hover) {
            background: rgba(255, 255, 255, 0.75);
        }
    }

    /* always hide toc panel on print */
    @media only print {
        #toc_panel {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* lightbox plugin */
    /* -------------------------------------------------- */

    @media only screen {
        /* regular <img> in document when hovered */
        .lightbox_document_img:hover {
            cursor: pointer;
        }

        .body_no_scroll {
            overflow: hidden !important;
        }

        /* screen overlay */
        #lightbox_overlay {
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            z-index: 3;
        }

        /* middle area containing lightbox image */
        #lightbox_image_container {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            padding: 20px;
        }

        /* bottom area containing caption */
        #lightbox_bottom_container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            min-height: 100px;
            max-height: 100px;
            background: rgba(0, 0, 0, 0.5);
        }

        /* image number info text box */
        #lightbox_number_info {
            position: absolute;
            color: #ffffff;
            font-weight: 600;
            left: 2px;
            top: 0;
            z-index: 4;
        }

        /* zoom info text box */
        #lightbox_zoom_info {
            position: absolute;
            color: #ffffff;
            font-weight: 600;
            right: 2px;
            top: 0;
            z-index: 4;
        }

        /* copy of image caption */
        #lightbox_caption {
            box-sizing: border-box;
            display: inline-block;
            width: 100%;
            max-height: 100%;
            padding: 10px 0;
            text-align: center;
            overflow-y: auto;
            color: #ffffff;
        }

        /* navigation previous/next button */
        .lightbox_button {
            width: 100px;
            height: 100%;
            min-width: 100px;
            min-height: 100%;
            color: #ffffff;
        }

        /* navigation previous/next button when hovered */
        .lightbox_button:hover {
            background: none !important;
        }

        /* navigation button icon */
        .lightbox_button > svg {
            height: 25px;
        }

        /* figure auto-number */
        #lightbox_caption > span:first-of-type {
            font-weight: bold;
            margin-right: 5px;
        }

        /* lightbox image when hovered */
        #lightbox_img:hover {
            cursor: grab;
        }

        /* lightbox image when grabbed */
        #lightbox_img:active {
            cursor: grabbing;
        }
    }

    /* when on screen < 480px wide */
    @media only screen and (max-width: 480px) {
        /* make navigation buttons skinnier on small screens to make more room for caption text */
        .lightbox_button {
            width: 50px;
            min-width: 50px;
        }
    }

    /* always hide lightbox on print */
    @media only print {
        #lightbox_overlay {
            display: none;
        }
    }

    /* -------------------------------------------------- */
    /* hypothesis (annotations) plugin */
    /* -------------------------------------------------- */

    /* side panel */
    .annotator-frame {
        width: 280px !important;
        z-index: 0 !important;
    }

    /* match highlight color to rest of theme */
    .annotator-highlights-always-on .annotator-hl {
        background-color: #ffeb3b !important;
    }

    /* match focused color to rest of theme */
    .annotator-hl.annotator-hl-focused {
        background-color: #ff8a65 !important;
    }

    /* match bucket bar color to rest of theme */
    .annotator-bucket-bar {
        background: #f5f5f5 !important;
    }

    /* always hide toolbar and tooltip on print */
    @media only print {
        .annotator-frame {
            display: none !important;
        }

        hypothesis-adder {
            display: none !important;
        }
    }
</style>
<!-- anchors plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin adds an anchor next to each of a certain type
        // of element that provides a human-readable url to that specific
        // item/position in the document (eg "manuscript.html#abstract"). It
        // also makes it such that scrolling out of view of a target removes
        // its identifier from the url.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'anchors';

        // default plugin options
        const options = {
            // which types of elements to add anchors next to, in
            // "document.querySelector" format
            typesQuery: 'h1, h2, h3, [id^="fig:"], [id^="tbl:"], [id^="eq:"]',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            // add anchor to each element of specified types
            const elements = document.querySelectorAll(options.typesQuery);
            for (const element of elements)
                addAnchor(element);

            // attach scroll listener to window
            window.addEventListener('scroll', onScroll);
        }

        // when window is scrolled
        function onScroll() {
            // if url has hash and user has scrolled out of view of hash
            // target, remove hash from url
            const tolerance = 100;
            const target = getHashTarget();
            if (target) {
                if (
                    target.getBoundingClientRect().top >
                        window.innerHeight + tolerance ||
                    target.getBoundingClientRect().bottom < 0 - tolerance
                )
                    history.pushState(null, null, ' ');
            }
        }

        // add anchor to element
        function addAnchor(element) {
            let addTo; // element to add anchor button to

            // if figure or table, modify withId and addTo to get expected
            // elements
            if (element.id.indexOf('fig:') === 0) {
                addTo = element.querySelector('figcaption');
            } else if (element.id.indexOf('tbl:') === 0) {
                addTo = element.querySelector('caption');
            } else if (element.id.indexOf('eq:') === 0) {
                addTo = element.querySelector('.eqnos-number');
            }

            addTo = addTo || element;
            const id = element.id || null;

            // do not add anchor if element doesn't have assigned id.
            // id is generated by pandoc and is assumed to be unique and
            // human-readable
            if (!id)
                return;

            // create anchor button
            const anchor = document.createElement('a');
            anchor.innerHTML = document.querySelector('.icon_link').innerHTML;
            anchor.title = 'Link to this part of the document';
            anchor.classList.add('icon_button', 'anchor');
            anchor.dataset.ignore = 'true';
            anchor.href = '#' + id;
            addTo.appendChild(anchor);
        }

        // get element that is target of link or url hash
        function getHashTarget() {
            const hash = window.location.hash;
            const id = hash.slice(1);
            let target = document.querySelector('[id="' + id + '"]');
            if (!target)
                return;

            // if figure or table, modify target to get expected element
            if (id.indexOf('fig:') === 0)
                target = target.querySelector('figure');
            if (id.indexOf('tbl:') === 0)
                target = target.querySelector('table');

            return target;
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- link icon -->

<template class="icon_link">
    <!-- modified from: https://fontawesome.com/icons/link -->
    <svg width="16" height="16" viewBox="0 0 512 512">
        <path
            fill="currentColor"
            d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"
        ></path>
    </svg>
</template>
<!-- accordion plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin allows sections of content under <h2> headings
        // to be collapsible.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'accordion';

        // default plugin options
        const options = {
            // whether to always start expanded ('false'), always start
            // collapsed ('true'), or start collapsed when screen small ('auto')
            startCollapsed: 'auto',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            // run through each <h2> heading
            const headings = document.querySelectorAll('h2');
            for (const heading of headings) {
                addArrow(heading);

                // start expanded/collapsed based on option
                if (
                    options.startCollapsed === 'true' ||
                    (options.startCollapsed === 'auto' && isSmallScreen())
                )
                    collapseHeading(heading);
                else
                    expandHeading(heading);
            }

            // attach hash change listener to window
            window.addEventListener('hashchange', onHashChange);
        }

        // when hash (eg manuscript.html#introduction) changes
        function onHashChange() {
            const target = getHashTarget();
            if (target)
                goToElement(target);
        }

        // add arrow to heading
        function addArrow(heading) {
            // add arrow button
            const arrow = document.createElement('button');
            arrow.innerHTML = document.querySelector(
                '.icon_angle_down'
            ).innerHTML;
            arrow.classList.add('icon_button', 'accordion_arrow');
            heading.insertBefore(arrow, heading.firstChild);

            // attach click listener to heading and button
            heading.addEventListener('click', onHeadingClick);
            arrow.addEventListener('click', onArrowClick);
        }

        // determine if on mobile-like device with small screen
        function isSmallScreen() {
            return Math.min(window.innerWidth, window.innerHeight) < 480;
        }

        // scroll to and focus element
        function goToElement(element, offset) {
            // expand accordion section if collapsed
            expandElement(element);
            const y =
                getRectInView(element).top -
                getRectInView(document.documentElement).top -
                (offset || 0);
            // trigger any function listening for "onscroll" event
            window.dispatchEvent(new Event('scroll'));
            window.scrollTo(0, y);
            document.activeElement.blur();
            element.focus();
        }

        // get element that is target of hash
        function getHashTarget(link) {
            const hash = link ? link.hash : window.location.hash;
            const id = hash.slice(1);
            let target = document.querySelector('[id="' + id + '"]');
            if (!target)
                return;

            // if figure or table, modify target to get expected element
            if (id.indexOf('fig:') === 0)
                target = target.querySelector('figure');
            if (id.indexOf('tbl:') === 0)
                target = target.querySelector('table');

            return target;
        }

        // when <h2> heading is clicked
        function onHeadingClick(event) {
            // only collapse if <h2> itself is target of click (eg, user did
            // not click on anchor within <h2>)
            if (event.target === this)
                toggleCollapse(this);
        }

        // when arrow button is clicked
        function onArrowClick() {
            toggleCollapse(this.parentNode);
        }

        // collapse section if expanded, expand if collapsed
        function toggleCollapse(heading) {
            if (heading.dataset.collapsed === 'false')
                collapseHeading(heading);
            else
                expandHeading(heading);
        }

        // elements to exclude from collapse, such as table of contents panel,
        // hypothesis panel, etc
        const exclude = '#toc_panel, div.annotator-frame, #lightbox_overlay';

        // collapse section
        function collapseHeading(heading) {
            heading.setAttribute('data-collapsed', 'true');
            const children = getChildren(heading);
            for (const child of children)
                child.setAttribute('data-collapsed', 'true');
        }

        // expand section
        function expandHeading(heading) {
            heading.setAttribute('data-collapsed', 'false');
            const children = getChildren(heading);
            for (const child of children)
                child.setAttribute('data-collapsed', 'false');
        }

        // get list of elements between this <h2> and next <h2> or <h1>
        // ("children" of the <h2> section)
        function getChildren(heading) {
            return nextUntil(heading, 'h2, h1', exclude);
        }

        // get position/dimensions of element or viewport
        function getRectInView(element) {
            let rect = {};
            rect.left = 0;
            rect.top = 0;
            rect.right = document.documentElement.clientWidth;
            rect.bottom = document.documentElement.clientHeight;
            let style = {};

            if (element instanceof HTMLElement) {
                rect = element.getBoundingClientRect();
                style = window.getComputedStyle(element);
            }

            const margin = {};
            margin.left = parseFloat(style.marginLeftWidth) || 0;
            margin.top = parseFloat(style.marginTopWidth) || 0;
            margin.right = parseFloat(style.marginRightWidth) || 0;
            margin.bottom = parseFloat(style.marginBottomWidth) || 0;

            const border = {};
            border.left = parseFloat(style.borderLeftWidth) || 0;
            border.top = parseFloat(style.borderTopWidth) || 0;
            border.right = parseFloat(style.borderRightWidth) || 0;
            border.bottom = parseFloat(style.borderBottomWidth) || 0;

            const newRect = {};
            newRect.left = rect.left + margin.left + border.left;
            newRect.top = rect.top + margin.top + border.top;
            newRect.right = rect.right + margin.right + border.right;
            newRect.bottom = rect.bottom + margin.bottom + border.bottom;
            newRect.width = newRect.right - newRect.left;
            newRect.height = newRect.bottom - newRect.top;

            return newRect;
        }

        // get list of elements after a start element up to element matching
        // query
        function nextUntil(element, query, exclude) {
            const elements = [];
            while (element = element.nextElementSibling, element) {
                if (element.matches(query))
                    break;
                if (!element.matches(exclude))
                    elements.push(element);
            }
            return elements;
        }

        // get closest element before specified element that matches query
        function firstBefore(element, query) {
            while (
                element &&
                element !== document.body &&
                !element.matches(query)
            )
                element = element.previousElementSibling || element.parentNode;

            return element;
        }

        // check if element is part of collapsed heading
        function isCollapsed(element) {
            while (element && element !== document.body) {
                if (element.dataset.collapsed === 'true')
                    return true;
                element = element.parentNode;
            }
            return false;
        }

        // expand heading containing element if necesary
        function expandElement(element) {
            if (isCollapsed(element)) {
                const heading = firstBefore(element, 'h2');
                if (heading)
                    heading.click();
            }
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- angle down icon -->

<template class="icon_angle_down">
    <!-- modified from: https://fontawesome.com/icons/angle-down -->
    <svg width="16" height="16" viewBox="0 0 448 512">
        <path
            fill="currentColor"
            d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"
        ></path>
    </svg>
</template>
<!-- tooltips plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin makes it such that when the user hovers or
        // focuses a link to a citation or figure, a tooltip appears with a
        // preview of the reference content, along with arrows to navigate
        // between instances of the same reference in the document.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'tooltips';

        // default plugin options
        const options = {
            // whether user must click off to close tooltip instead of just
            // un-hovering
            clickClose: 'false',
            // delay (in ms) between opening and closing tooltip
            delay: '100',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            const links = getLinks();
            for (const link of links) {
                // attach hover and focus listeners to link
                link.addEventListener('mouseover', onLinkHover);
                link.addEventListener('mouseleave', onLinkUnhover);
                link.addEventListener('focus', onLinkFocus);
                link.addEventListener('touchend', onLinkTouch);
            }

            // attach mouse, key, and resize listeners to window
            window.addEventListener('mousedown', onClick);
            window.addEventListener('touchstart', onClick);
            window.addEventListener('keyup', onKeyUp);
            window.addEventListener('resize', onResize);
        }

        // when link is hovered
        function onLinkHover() {
            // function to open tooltip
            const delayOpenTooltip = function() {
                openTooltip(this);
            }.bind(this);

            // run open function after delay
            this.openTooltipTimer = window.setTimeout(
                delayOpenTooltip,
                options.delay
            );
        }

        // when mouse leaves link
        function onLinkUnhover() {
            // cancel opening tooltip
            window.clearTimeout(this.openTooltipTimer);

            // don't close on unhover if option specifies
            if (options.clickClose === 'true')
                return;

            // function to close tooltip
            const delayCloseTooltip = function() {
                // if tooltip open and if mouse isn't over tooltip, close
                const tooltip = document.getElementById('tooltip');
                if (tooltip && !tooltip.matches(':hover'))
                    closeTooltip();
            };

            // run close function after delay
            this.closeTooltipTimer = window.setTimeout(
                delayCloseTooltip,
                options.delay
            );
        }

        // when link is focused (tabbed to)
        function onLinkFocus(event) {
            openTooltip(this);
        }

        // when link is touched on touch screen
        function onLinkTouch(event) {
            // attempt to force hover state on first tap always, and trigger
            // regular link click (and navigation) on second tap
            if (event.target === document.activeElement)
                event.target.click();
            else {
                document.activeElement.blur();
                event.target.focus();
            }
            if (event.cancelable)
                event.preventDefault();
            event.stopPropagation();
            return false;
        }

        // when mouse is clicked anywhere in window
        function onClick(event) {
            closeTooltip();
        }

        // when key pressed
        function onKeyUp(event) {
            if (!event || !event.key)
                return;

            switch (event.key) {
                // trigger click of prev button
                case 'ArrowLeft':
                    const prevButton = document.getElementById(
                        'tooltip_prev_button'
                    );
                    if (prevButton)
                        prevButton.click();
                    break;
                // trigger click of next button
                case 'ArrowRight':
                    const nextButton = document.getElementById(
                        'tooltip_next_button'
                    );
                    if (nextButton)
                        nextButton.click();
                    break;
                // close on esc
                case 'Escape':
                    closeTooltip();
                    break;
            }
        }

        // when window is resized or zoomed
        function onResize() {
            closeTooltip();
        }

        // get all links of types we wish to handle
        function getLinks() {
            const queries = [];
            // exclude buttons, anchor links, toc links, etc
            const exclude =
                ':not(.button):not(.icon_button):not(.anchor):not(.toc_link)';
            queries.push('a[href^="#ref-"]' + exclude); // citation links
            queries.push('a[href^="#fig:"]' + exclude); // figure links
            const query = queries.join(', ');
            return document.querySelectorAll(query);
        }

        // get links with same target, get index of link in set, get total
        // same links
        function getSameLinks(link) {
            const sameLinks = [];
            const links = getLinks();
            for (const otherLink of links) {
                if (
                    otherLink.getAttribute('href') === link.getAttribute('href')
                )
                    sameLinks.push(otherLink);
            }

            return {
                elements: sameLinks,
                index: sameLinks.indexOf(link),
                total: sameLinks.length
            };
        }

        // open tooltip
        function openTooltip(link) {
            // delete tooltip if it exists, start fresh
            closeTooltip();

            // make tooltip element
            const tooltip = makeTooltip(link);

            // if source couldn't be found and tooltip not made, exit
            if (!tooltip)
                return;

            // make navbar elements
            const navBar = makeNavBar(link);
            if (navBar)
                tooltip.firstElementChild.appendChild(navBar);

            // attach tooltip to page
            document.body.appendChild(tooltip);

            // position tooltip
            const position = function() {
                positionTooltip(link);
            };
            position();

            // if tooltip contains images, position again after they've loaded
            const imgs = tooltip.querySelectorAll('img');
            for (const img of imgs)
                img.addEventListener('load', position);
        }

        // close (delete) tooltip
        function closeTooltip() {
            const tooltip = document.getElementById('tooltip');
            if (tooltip)
                tooltip.remove();
        }

        // make tooltip
        function makeTooltip(link) {
            // get target element that link points to
            const source = getSource(link);

            // if source can't be found, exit
            if (!source)
                return;

            // create new tooltip
            const tooltip = document.createElement('div');
            tooltip.id = 'tooltip';
            const tooltipContent = document.createElement('div');
            tooltipContent.id = 'tooltip_content';
            tooltip.appendChild(tooltipContent);

            // make copy of source node and put in tooltip
            const sourceCopy = makeCopy(source);
            tooltipContent.appendChild(sourceCopy);

            // attach mouse event listeners
            tooltip.addEventListener('click', onTooltipClick);
            tooltip.addEventListener('mousedown', onTooltipClick);
            tooltip.addEventListener('touchstart', onTooltipClick);
            tooltip.addEventListener('mouseleave', onTooltipUnhover);

            // (for interaction with lightbox plugin)
            // transfer click on tooltip copied img to original img
            const sourceImg = source.querySelector('img');
            const sourceCopyImg = sourceCopy.querySelector('img');
            if (sourceImg && sourceCopyImg) {
                const clickImg = function() {
                    sourceImg.click();
                    closeTooltip();
                };
                sourceCopyImg.addEventListener('click', clickImg);
            }

            return tooltip;
        }

        // make carbon copy of html dom element
        function makeCopy(source) {
            const sourceCopy = source.cloneNode(true);

            // delete elements marked with ignore (eg anchor and jump buttons)
            const deleteFromCopy = sourceCopy.querySelectorAll(
                '[data-ignore="true"]'
            );
            for (const element of deleteFromCopy)
                element.remove();

            // delete certain element attributes
            const attributes = [
                'id',
                'data-collapsed',
                'data-selected',
                'data-highlighted',
                'data-glow'
            ];
            for (const attribute of attributes) {
                sourceCopy.removeAttribute(attribute);
                const elements = sourceCopy.querySelectorAll(
                    '[' + attribute + ']'
                );
                for (const element of elements)
                    element.removeAttribute(attribute);
            }

            return sourceCopy;
        }

        // when tooltip is clicked
        function onTooltipClick(event) {
            // when user clicks on tooltip, stop click from transferring
            // outside of tooltip (eg, click off to close tooltip, or eg click
            // off to unhighlight same refs)
            event.stopPropagation();
        }

        // when tooltip is unhovered
        function onTooltipUnhover(event) {
            if (options.clickClose === 'true')
                return;

            // make sure new mouse/touch/focus no longer over tooltip or any
            // element within it
            const tooltip = document.getElementById('tooltip');
            if (!tooltip)
                return;
            if (this.contains(event.relatedTarget))
                return;

            closeTooltip();
        }

        // make nav bar to go betwen prev/next instances of same reference
        function makeNavBar(link) {
            // find other links to the same source
            const sameLinks = getSameLinks(link);

            // don't show nav bar when singular reference
            if (sameLinks.total <= 1)
                return;

            // find prev/next links with same target
            const prevLink = getPrevLink(link, sameLinks);
            const nextLink = getNextLink(link, sameLinks);

            // create nav bar
            const navBar = document.createElement('div');
            navBar.id = 'tooltip_nav_bar';
            const text = sameLinks.index + 1 + ' of ' + sameLinks.total;

            // create nav bar prev/next buttons
            const prevButton = document.createElement('button');
            const nextButton = document.createElement('button');
            prevButton.id = 'tooltip_prev_button';
            nextButton.id = 'tooltip_next_button';
            prevButton.title =
                'Jump to the previous occurence of this item in the document [←]';
            nextButton.title =
                'Jump to the next occurence of this item in the document [→]';
            prevButton.classList.add('icon_button');
            nextButton.classList.add('icon_button');
            prevButton.innerHTML = document.querySelector(
                '.icon_caret_left'
            ).innerHTML;
            nextButton.innerHTML = document.querySelector(
                '.icon_caret_right'
            ).innerHTML;
            navBar.appendChild(prevButton);
            navBar.appendChild(document.createTextNode(text));
            navBar.appendChild(nextButton);

            // attach click listeners to buttons
            prevButton.addEventListener('click', function() {
                onPrevNextClick(link, prevLink);
            });
            nextButton.addEventListener('click', function() {
                onPrevNextClick(link, nextLink);
            });

            return navBar;
        }

        // get previous link with same target
        function getPrevLink(link, sameLinks) {
            if (!sameLinks)
                sameLinks = getSameLinks(link);
            // wrap index to other side if < 1
            let index;
            if (sameLinks.index - 1 >= 0)
                index = sameLinks.index - 1;
            else
                index = sameLinks.total - 1;
            return sameLinks.elements[index];
        }

        // get next link with same target
        function getNextLink(link, sameLinks) {
            if (!sameLinks)
                sameLinks = getSameLinks(link);
            // wrap index to other side if > total
            let index;
            if (sameLinks.index + 1 <= sameLinks.total - 1)
                index = sameLinks.index + 1;
            else
                index = 0;
            return sameLinks.elements[index];
        }

        // get element that is target of link or url hash
        function getSource(link) {
            const hash = link ? link.hash : window.location.hash;
            const id = hash.slice(1);
            let target = document.querySelector('[id="' + id + '"]');
            if (!target)
                return;

            // if ref or figure, modify target to get expected element
            if (id.indexOf('ref-') === 0)
                target = target.querySelector('p');
            else if (id.indexOf('fig:') === 0)
                target = target.querySelector('figure');

            return target;
        }

        // when prev/next arrow button is clicked
        function onPrevNextClick(link, prevNextLink) {
            if (link && prevNextLink)
                goToElement(prevNextLink, window.innerHeight * 0.5);
        }

        // scroll to and focus element
        function goToElement(element, offset) {
            // expand accordion section if collapsed
            expandElement(element);
            const y =
                getRectInView(element).top -
                getRectInView(document.documentElement).top -
                (offset || 0);
            // trigger any function listening for "onscroll" event
            window.dispatchEvent(new Event('scroll'));
            window.scrollTo(0, y);
            document.activeElement.blur();
            element.focus();
        }

        // determine position to place tooltip based on link position in
        // viewport and tooltip size
        function positionTooltip(link, left, top) {
            const tooltipElement = document.getElementById('tooltip');
            if (!tooltipElement)
                return;

            // get convenient vars for position/dimensions of
            // link/tooltip/page/view
            link = getRectInPage(link);
            const tooltip = getRectInPage(tooltipElement);
            const view = getRectInPage();

            // horizontal positioning
            if (left)
                // use explicit value
                left = left;
            else if (link.left + tooltip.width < view.right)
                // fit tooltip to right of link
                left = link.left;
            else if (link.right - tooltip.width > view.left)
                // fit tooltip to left of link
                left = link.right - tooltip.width;
            // center tooltip in view
            else
                left = (view.right - view.left) / 2 - tooltip.width / 2;

            // vertical positioning
            if (top)
                // use explicit value
                top = top;
            else if (link.top - tooltip.height > view.top)
                // fit tooltip above link
                top = link.top - tooltip.height;
            else if (link.bottom + tooltip.height < view.bottom)
                // fit tooltip below link
                top = link.bottom;
            else {
                // center tooltip in view
                top = view.top + view.height / 2 - tooltip.height / 2;
                // nudge off of link to left/right if possible
                if (link.right + tooltip.width < view.right)
                    left = link.right;
                else if (link.left - tooltip.width > view.left)
                    left = link.left - tooltip.width;
            }

            tooltipElement.style.left = left + 'px';
            tooltipElement.style.top = top + 'px';
        }

        // get position/dimensions of element or viewport
        function getRectInView(element) {
            let rect = {};
            rect.left = 0;
            rect.top = 0;
            rect.right = document.documentElement.clientWidth;
            rect.bottom = document.documentElement.clientHeight;
            let style = {};

            if (element instanceof HTMLElement) {
                rect = element.getBoundingClientRect();
                style = window.getComputedStyle(element);
            }

            const margin = {};
            margin.left = parseFloat(style.marginLeftWidth) || 0;
            margin.top = parseFloat(style.marginTopWidth) || 0;
            margin.right = parseFloat(style.marginRightWidth) || 0;
            margin.bottom = parseFloat(style.marginBottomWidth) || 0;

            const border = {};
            border.left = parseFloat(style.borderLeftWidth) || 0;
            border.top = parseFloat(style.borderTopWidth) || 0;
            border.right = parseFloat(style.borderRightWidth) || 0;
            border.bottom = parseFloat(style.borderBottomWidth) || 0;

            const newRect = {};
            newRect.left = rect.left + margin.left + border.left;
            newRect.top = rect.top + margin.top + border.top;
            newRect.right = rect.right + margin.right + border.right;
            newRect.bottom = rect.bottom + margin.bottom + border.bottom;
            newRect.width = newRect.right - newRect.left;
            newRect.height = newRect.bottom - newRect.top;

            return newRect;
        }

        // get position of element relative to page
        function getRectInPage(element) {
            const rect = getRectInView(element);
            const body = getRectInView(document.body);

            const newRect = {};
            newRect.left = rect.left - body.left;
            newRect.top = rect.top - body.top;
            newRect.right = rect.right - body.left;
            newRect.bottom = rect.bottom - body.top;
            newRect.width = rect.width;
            newRect.height = rect.height;

            return newRect;
        }

        // (for interaction with accordion plugin)
        // get closest element before specified element that matches query
        function firstBefore(element, query) {
            while (
                element &&
                element !== document.body &&
                !element.matches(query)
            )
                element = element.previousElementSibling || element.parentNode;

            return element;
        }

        // (for interaction with accordion plugin)
        // check if element is part of collapsed heading
        function isCollapsed(element) {
            while (element && element !== document.body) {
                if (element.dataset.collapsed === 'true')
                    return true;
                element = element.parentNode;
            }
            return false;
        }

        // (for interaction with accordion plugin)
        // expand heading containing element if necesary
        function expandElement(element) {
            if (isCollapsed(element)) {
                const heading = firstBefore(element, 'h2');
                if (heading)
                    heading.click();
            }
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- caret left icon -->

<template class="icon_caret_left">
    <!-- modified from: https://fontawesome.com/icons/caret-left -->
    <svg width="16" height="16" viewBox="0 0 192 512">
        <path
            fill="currentColor"
            d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"
        ></path>
    </svg>
</template>

<!-- caret right icon -->

<template class="icon_caret_right">
    <!-- modified from: https://fontawesome.com/icons/caret-right -->
    <svg width="16" height="16" viewBox="0 0 192 512">
        <path
            fill="currentColor"
            d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"
        ></path>
    </svg>
</template>
<!-- jump to first plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin adds a button next to each reference entry,
        // figure, and table that jumps the page to the first occurrence of a
        // link to that item in the manuscript.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'jumpToFirst';

        // default plugin options
        const options = {
            // whether to add buttons next to reference entries
            references: 'true',
            // whether to add buttons next to figures
            figures: 'true',
            // whether to add buttons next to tables
            tables: 'true',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            if (options.references !== 'false')
                makeReferenceButtons();
            if (options.figures !== 'false')
                makeFigureButtons();
            if (options.tables !== 'false')
                makeTableButtons();
        }

        // when jump button clicked
        function onButtonClick() {
            const first = getFirstOccurrence(this.dataset.id);
            if (!first)
                return;

            // update url hash so navigating "back" in history will return
            // user to jump button
            window.location.hash = this.dataset.id;
            // scroll to link
            window.setTimeout(function() {
                goToElement(first, window.innerHeight * 0.5);
            }, 0);
        }

        // get first occurence of link to item in document
        function getFirstOccurrence(id) {
            let query = 'a';
            query += '[href="#' + id + '"]';
            // exclude buttons, anchor links, toc links, etc
            query +=
                ':not(.button):not(.icon_button):not(.anchor):not(.toc_link)';
            return document.querySelector(query);
        }

        // add button next to each reference entry
        function makeReferenceButtons() {
            const references = document.querySelectorAll('div[id^="ref-"]');
            for (const reference of references) {
                // get reference id and element to add button to
                const id = reference.id;
                const container = reference.firstElementChild;
                const first = getFirstOccurrence(id);

                // if can't find link to reference, ignore
                if (!first)
                    continue;

                // make jump button
                let button = document.createElement('button');
                button.classList.add('icon_button', 'jump_arrow');
                button.title =
                    'Jump to the first occurence of this reference in the document';
                button.innerHTML = document.querySelector(
                    '.icon_angle_double_up'
                ).innerHTML;
                button.dataset.id = id;
                button.dataset.ignore = 'true';
                container.innerHTML = button.outerHTML + container.innerHTML;
                button = container.firstElementChild;
                button.addEventListener('click', onButtonClick);
            }
        }

        // add button next to each figure
        function makeFigureButtons() {
            const figures = document.querySelectorAll('[id^="fig:"]');
            for (const figure of figures) {
                // get figure id and element to add button to
                const id = figure.id;
                const container = figure.querySelector('figcaption') || figure;
                const first = getFirstOccurrence(id);

                // if can't find link to figure, ignore
                if (!first)
                    continue;

                // make jump button
                const button = document.createElement('button');
                button.classList.add('icon_button', 'jump_arrow');
                button.title =
                    'Jump to the first occurence of this figure in the document';
                button.innerHTML = document.querySelector(
                    '.icon_angle_double_up'
                ).innerHTML;
                button.dataset.id = id;
                button.dataset.ignore = 'true';
                container.insertBefore(button, container.firstElementChild);
                button.addEventListener('click', onButtonClick);
            }
        }

        // add button next to each figure
        function makeTableButtons() {
            const tables = document.querySelectorAll('[id^="tbl:"]');
            for (const table of tables) {
                // get ref id and element to add button to
                const id = table.id;
                const container = table.querySelector('caption') || table;
                const first = getFirstOccurrence(id);

                // if can't find link to table, ignore
                if (!first)
                    continue;

                // make jump button
                const button = document.createElement('button');
                button.classList.add('icon_button', 'jump_arrow');
                button.title =
                    'Jump to the first occurence of this table in the document';
                button.innerHTML = document.querySelector(
                    '.icon_angle_double_up'
                ).innerHTML;
                button.dataset.id = id;
                button.dataset.ignore = 'true';
                container.insertBefore(button, container.firstElementChild);
                button.addEventListener('click', onButtonClick);
            }
        }

        // scroll to and focus element
        function goToElement(element, offset) {
            // expand accordion section if collapsed
            expandElement(element);
            const y =
                getRectInView(element).top -
                getRectInView(document.documentElement).top -
                (offset || 0);
            // trigger any function listening for "onscroll" event
            window.dispatchEvent(new Event('scroll'));
            window.scrollTo(0, y);
            document.activeElement.blur();
            element.focus();
        }

        // get position/dimensions of element or viewport
        function getRectInView(element) {
            let rect = {};
            rect.left = 0;
            rect.top = 0;
            rect.right = document.documentElement.clientWidth;
            rect.bottom = document.documentElement.clientHeight;
            let style = {};

            if (element instanceof HTMLElement) {
                rect = element.getBoundingClientRect();
                style = window.getComputedStyle(element);
            }

            const margin = {};
            margin.left = parseFloat(style.marginLeftWidth) || 0;
            margin.top = parseFloat(style.marginTopWidth) || 0;
            margin.right = parseFloat(style.marginRightWidth) || 0;
            margin.bottom = parseFloat(style.marginBottomWidth) || 0;

            const border = {};
            border.left = parseFloat(style.borderLeftWidth) || 0;
            border.top = parseFloat(style.borderTopWidth) || 0;
            border.right = parseFloat(style.borderRightWidth) || 0;
            border.bottom = parseFloat(style.borderBottomWidth) || 0;

            const newRect = {};
            newRect.left = rect.left + margin.left + border.left;
            newRect.top = rect.top + margin.top + border.top;
            newRect.right = rect.right + margin.right + border.right;
            newRect.bottom = rect.bottom + margin.bottom + border.bottom;
            newRect.width = newRect.right - newRect.left;
            newRect.height = newRect.bottom - newRect.top;

            return newRect;
        }

        // get closest element before specified element that matches query
        function firstBefore(element, query) {
            while (
                element &&
                element !== document.body &&
                !element.matches(query)
            )
                element = element.previousElementSibling || element.parentNode;

            return element;
        }

        // check if element is part of collapsed heading
        function isCollapsed(element) {
            while (element && element !== document.body) {
                if (element.dataset.collapsed === 'true')
                    return true;
                element = element.parentNode;
            }
            return false;
        }

        // (for interaction with accordion plugin)
        // expand heading containing element if necesary
        function expandElement(element) {
            if (isCollapsed(element)) {
                const heading = firstBefore(element, 'h2');
                if (heading)
                    heading.click();
            }
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- angle double up icon -->

<template class="icon_angle_double_up">
    <!-- modified from: https://fontawesome.com/icons/angle-double-up -->
    <svg width="16" height="16" viewBox="0 0 320 512">
        <path
            fill="currentColor"
            d="M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 351.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 425.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1zm-34-192L7 199.7c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l96.4-96.4 96.4 96.4c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9l-136-136c-9.2-9.4-24.4-9.4-33.8 0z"
        ></path>
    </svg>
</template>
<!-- link highlight plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin makes it such that when a user hovers or
        // focuses a link, other links that have the same target will be
        // highlighted. It also makes it such that when clicking a link, the
        // target of the link (eg reference, figure, table) is briefly
        // highlighted.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'linkHighlight';

        // default plugin options
        const options = {
            // whether to also highlight links that go to external urls
            externalLinks: 'false',
            // whether user must click off to unhighlight instead of just
            // un-hovering
            clickUnhighlight: 'false',
            // whether to also highlight links that are unique
            highlightUnique: 'true',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            const links = getLinks();
            for (const link of links) {
                // attach mouse and focus listeners to link
                link.addEventListener('mouseenter', onLinkFocus);
                link.addEventListener('focus', onLinkFocus);
                link.addEventListener('mouseleave', onLinkUnhover);
            }

            // attach click and hash change listeners to window
            window.addEventListener('click', onClick);
            window.addEventListener('touchstart', onClick);
            window.addEventListener('hashchange', onHashChange);

            // run hash change on window load in case user has navigated
            // directly to hash
            onHashChange();
        }

        // when link is focused (tabbed to) or hovered
        function onLinkFocus() {
            highlight(this);
        }

        // when link is unhovered
        function onLinkUnhover() {
            if (options.clickUnhighlight !== 'true')
                unhighlightAll();
        }

        // when the mouse is clicked anywhere in window
        function onClick(event) {
            unhighlightAll();
        }

        // when hash (eg manuscript.html#introduction) changes
        function onHashChange() {
            const target = getHashTarget();
            if (target)
                glowElement(target);
        }

        // get element that is target of link or url hash
        function getHashTarget(link) {
            const hash = link ? link.hash : window.location.hash;
            const id = hash.slice(1);
            let target = document.querySelector('[id="' + id + '"]');
            if (!target)
                return;

            return target;
        }

        // start glow sequence on an element
        function glowElement(element) {
            const startGlow = function() {
                onGlowEnd();
                element.dataset.glow = 'true';
                element.addEventListener('animationend', onGlowEnd);
            };
            const onGlowEnd = function() {
                element.removeAttribute('data-glow');
                element.removeEventListener('animationend', onGlowEnd);
            };
            startGlow();
        }

        // highlight link and all others with same target
        function highlight(link) {
            // force unhighlight all to start fresh
            unhighlightAll();

            // get links with same target
            if (!link)
                return;
            const sameLinks = getSameLinks(link);

            // if link unique and option is off, exit and don't highlight
            if (sameLinks.length <= 1 && options.highlightUnique !== 'true')
                return;

            // highlight all same links, and "select" (special highlight) this
            // one
            for (const sameLink of sameLinks) {
                if (sameLink === link)
                    sameLink.setAttribute('data-selected', 'true');
                else
                    sameLink.setAttribute('data-highlighted', 'true');
            }
        }

        // unhighlight all links
        function unhighlightAll() {
            const links = getLinks();
            for (const link of links) {
                link.setAttribute('data-selected', 'false');
                link.setAttribute('data-highlighted', 'false');
            }
        }

        // get links with same target
        function getSameLinks(link) {
            const results = [];
            const links = getLinks();
            for (const otherLink of links) {
                if (
                    otherLink.getAttribute('href') === link.getAttribute('href')
                )
                    results.push(otherLink);
            }
            return results;
        }

        // get all links of types we wish to handle
        function getLinks() {
            let query = 'a';
            if (options.externalLinks !== 'true')
                query += '[href^="#"]';
            // exclude buttons, anchor links, toc links, etc
            query +=
                ':not(.button):not(.icon_button):not(.anchor):not(.toc_link)';
            return document.querySelectorAll(query);
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>
<!-- table of contents plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin provides a "table of contents" (toc) panel on
        // the side of the document that allows the user to conveniently
        // navigate between sections of the document.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'tableOfContents';

        // default plugin options
        const options = {
            // which types of elements to add links for, in
            // "document.querySelector" format
            typesQuery: 'h1, h2, h3',
            // whether default behavior is to be closed ('false'), open
            // ('true'), or only open when screen wide enough to fit panel
            // ('auto'). note: still always starts closed when page loads.
            open: 'auto',
            // if list item is more than this many characters, text will be
            // truncated
            charLimit: '50',
            // whether or not to show bullets next to each toc item
            bullets: 'false',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            // make toc panel and populate with entries (links to document
            // sections)
            const panel = makePanel();
            if (!panel)
                return;
            makeEntries(panel);
            document.body.insertBefore(panel, document.body.firstChild);

            closePanel();

            // attach click, scroll, and hash change listeners to window
            window.addEventListener('click', onClick);
            window.addEventListener('touchstart', onClick);
            window.addEventListener('scroll', onScroll);
            window.addEventListener('hashchange', onScroll);
            window.addEventListener('keyup', onKeyUp);
            onScroll();

            // add class to push document body down out of way of toc button
            document.body.classList.add('toc_body_nudge');
        }

        // determine if screen wide enough to fit toc panel
        function isSmallScreen() {
            // in default theme:
            // 816px = 8.5in = width of "page" (<body>) element
            // 260px = min width of toc panel (*2 for both sides of <body>)
            return window.innerWidth < 816 + 260 * 2;
        }

        // open/close panel based on option and screen size
        function openOrClosePanel() {
            if (
                options.open === 'true' ||
                (options.open === 'auto' && !isSmallScreen())
            )
                openPanel();
            else
                closePanel();
        }

        // when mouse is clicked anywhere in window
        function onClick() {
            const panel = document.getElementById('toc_panel');
            if (!panel)
                return;

            if (panel.dataset.open === 'true')
                openOrClosePanel();
        }

        // when window is scrolled or hash changed
        function onScroll() {
            highlightViewed();
        }

        // when key pressed
        function onKeyUp(event) {
            if (!event || !event.key)
                return;

            // close on esc
            if (event.key === 'Escape')
                closePanel();
        }

        // find entry of currently viewed document section in toc and highlight
        function highlightViewed() {
            const firstId = getFirstInView(options.typesQuery);

            // get toc entries (links), unhighlight all, then highlight viewed
            const list = document.getElementById('toc_list');
            if (!firstId || !list)
                return;
            const links = list.querySelectorAll('a');
            for (const link of links)
                link.dataset.viewing = 'false';
            const link = list.querySelector('a[href="#' + firstId + '"]');
            if (!link)
                return;
            link.dataset.viewing = 'true';
        }

        // get first or previous toc listed element in top half of view
        function getFirstInView(query) {
            // get all elements matching query and with id
            const elements = document.querySelectorAll(query);
            const elementsWithIds = [];
            for (const element of elements) {
                if (element.id)
                    elementsWithIds.push(element);
            }


            // get first or previous element in top half of view
            for (let i = 0; i < elementsWithIds.length; i++) {
                const element = elementsWithIds[i];
                const prevElement = elementsWithIds[Math.max(0, i - 1)];
                if (element.getBoundingClientRect().top >= 0) {
                    if (
                        element.getBoundingClientRect().top <
                        window.innerHeight / 2
                    )
                        return element.id;
                    else
                        return prevElement.id;
                }
            }
        }

        // make panel
        function makePanel() {
            // create panel
            const panel = document.createElement('div');
            panel.id = 'toc_panel';
            if (options.bullets === 'true')
                panel.dataset.bullets = 'true';

            // create header
            const header = document.createElement('div');
            header.id = 'toc_header';

            // create toc button
            const button = document.createElement('button');
            button.id = 'toc_button';
            button.innerHTML = document.querySelector(
                '.icon_th_list'
            ).innerHTML;
            button.classList.add('icon_button');

            // create header text
            const text = document.createElement('h3');
            text.innerHTML = 'Table of Contents';

            // create container for toc list
            const list = document.createElement('div');
            list.id = 'toc_list';

            // attach click listeners
            panel.addEventListener('click', onPanelClick);
            header.addEventListener('click', onHeaderClick);
            button.addEventListener('click', onButtonClick);

            // attach elements
            header.appendChild(button);
            header.appendChild(text);
            panel.appendChild(header);
            panel.appendChild(list);

            return panel;
        }

        // create toc entries (links) to each element of the specified types
        function makeEntries(panel) {
            const elements = document.querySelectorAll(options.typesQuery);
            for (const element of elements) {
                // do not add link if element doesn't have assigned id
                if (!element.id)
                    continue;

                // create link/list item
                const link = document.createElement('a');
                link.classList.add('toc_link');
                switch (element.tagName.toLowerCase()) {
                    case 'h1':
                        link.dataset.level = '1';
                        break;
                    case 'h2':
                        link.dataset.level = '2';
                        break;
                    case 'h3':
                        link.dataset.level = '3';
                        break;
                    case 'h4':
                        link.dataset.level = '4';
                        break;
                }
                link.title = element.innerText;
                let text = element.innerText;
                if (text.length > options.charLimit)
                    text = text.slice(0, options.charLimit) + '...';
                link.innerHTML = text;
                link.href = '#' + element.id;
                link.addEventListener('click', onLinkClick);

                // attach link
                panel.querySelector('#toc_list').appendChild(link);
            }
        }

        // when panel is clicked
        function onPanelClick(event) {
            // stop click from propagating to window/document and closing panel
            event.stopPropagation();
        }

        // when header itself is clicked
        function onHeaderClick(event) {
            togglePanel();
        }

        // when button is clicked
        function onButtonClick(event) {
            togglePanel();
            // stop header underneath button from also being clicked
            event.stopPropagation();
        }

        // when link is clicked
        function onLinkClick() {
            openOrClosePanel();
        }

        // open panel if closed, close if opened
        function togglePanel() {
            const panel = document.getElementById('toc_panel');
            if (!panel)
                return;

            if (panel.dataset.open === 'true')
                closePanel();
            else
                openPanel();
        }

        // open panel
        function openPanel() {
            const panel = document.getElementById('toc_panel');
            if (panel)
                panel.dataset.open = 'true';
        }

        // close panel
        function closePanel() {
            const panel = document.getElementById('toc_panel');
            if (panel)
                panel.dataset.open = 'false';
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- th list icon -->

<template class="icon_th_list">
    <!-- modified from: https://fontawesome.com/icons/th-list -->
    <svg width="16" height="16" viewBox="0 0 512 512" tabindex="-1">
        <path
            fill="currentColor"
            d="M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"
            tabindex="-1"
        ></path>
    </svg>
</template>
<!-- lightbox plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin makes it such that when a user clicks on an
        // image, the image fills the screen and the user can pan/drag/zoom
        // the image and navigate between other images in the document.

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'lightbox';

        // default plugin options
        const options = {
            // list of possible zoom/scale factors
            zoomSteps:
                '0.1, 0.25, 0.333333, 0.5, 0.666666, 0.75, 1,' +
                '1.25, 1.5, 1.75, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8',
            // whether to fit image to view ('fit'), display at 100% and shrink
            // if necessary ('shrink'), or always display at 100% ('100')
            defaultZoom: 'fit',
            // whether to zoom in/out toward center of view ('true') or mouse
            // ('false')
            centerZoom: 'false',
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            // run through each <img> element
            const imgs = document.querySelectorAll('figure > img');
            let count = 1;
            for (const img of imgs) {
                img.classList.add('lightbox_document_img');
                img.dataset.number = count;
                img.dataset.total = imgs.length;
                img.addEventListener('click', openLightbox);
                count++;
            }

            // attach mouse and key listeners to window
            window.addEventListener('mousemove', onWindowMouseMove);
            window.addEventListener('keyup', onKeyUp);
        }

        // when mouse is moved anywhere in window
        function onWindowMouseMove(event) {
            window.mouseX = event.clientX;
            window.mouseY = event.clientY;
        }

        // when key pressed
        function onKeyUp(event) {
            if (!event || !event.key)
                return;

            switch (event.key) {
                // trigger click of prev button
                case 'ArrowLeft':
                    const prevButton = document.getElementById(
                        'lightbox_prev_button'
                    );
                    if (prevButton)
                        prevButton.click();
                    break;
                // trigger click of next button
                case 'ArrowRight':
                    const nextButton = document.getElementById(
                        'lightbox_next_button'
                    );
                    if (nextButton)
                        nextButton.click();
                    break;
                // close on esc
                case 'Escape':
                    closeLightbox();
                    break;
            }
        }

        // open lightbox
        function openLightbox() {
            const lightbox = makeLightbox(this);
            if (!lightbox)
                return;

            blurBody(lightbox);
            document.body.appendChild(lightbox);
        }

        // make lightbox
        function makeLightbox(img) {
            // delete lightbox if it exists, start fresh
            closeLightbox();

            // create screen overlay containing lightbox
            const overlay = document.createElement('div');
            overlay.id = 'lightbox_overlay';

            // create image info boxes
            const numberInfo = document.createElement('div');
            const zoomInfo = document.createElement('div');
            numberInfo.id = 'lightbox_number_info';
            zoomInfo.id = 'lightbox_zoom_info';

            // create container for image
            const imageContainer = document.createElement('div');
            imageContainer.id = 'lightbox_image_container';
            const lightboxImg = makeLightboxImg(
                img,
                imageContainer,
                numberInfo,
                zoomInfo
            );
            imageContainer.appendChild(lightboxImg);

            // create bottom container for caption and navigation buttons
            const bottomContainer = document.createElement('div');
            bottomContainer.id = 'lightbox_bottom_container';
            const caption = makeCaption(img);
            const prevButton = makePrevButton(img);
            const nextButton = makeNextButton(img);
            bottomContainer.appendChild(prevButton);
            bottomContainer.appendChild(caption);
            bottomContainer.appendChild(nextButton);

            // attach top middle and bottom to overlay
            overlay.appendChild(numberInfo);
            overlay.appendChild(zoomInfo);
            overlay.appendChild(imageContainer);
            overlay.appendChild(bottomContainer);

            return overlay;
        }

        // make <img> object that is intuitively draggable and zoomable
        function makeLightboxImg(
            sourceImg,
            container,
            numberInfoBox,
            zoomInfoBox
        ) {
            // create copy of source <img>
            const img = sourceImg.cloneNode(true);
            img.classList.remove('lightbox_document_img');
            img.removeAttribute('id');
            img.removeAttribute('width');
            img.removeAttribute('height');
            img.style.position = 'unset';
            img.style.margin = '0';
            img.style.padding = '0';
            img.style.width = '';
            img.style.height = '';
            img.style.minWidth = '';
            img.style.minHeight = '';
            img.style.maxWidth = '';
            img.style.maxHeight = '';
            img.id = 'lightbox_img';

            // build sorted list of unique zoomSteps, always including a 100%
            let zoomSteps = [];
            const optionsZooms = options.zoomSteps.split(/[^0-9.]/);
            for (const optionZoom of optionsZooms) {
                const newZoom = parseFloat(optionZoom);
                if (newZoom && !zoomSteps.includes(newZoom))
                    zoomSteps.push(newZoom);
            }
            if (!zoomSteps.includes(1))
                zoomSteps.push(1);
            zoomSteps = zoomSteps.sort(function sortNumber(a, b) {
                return a - b;
            });

            // <img> object property variables
            let zoom = 1;
            let translateX = 0;
            let translateY = 0;
            let clickMouseX = undefined;
            let clickMouseY = undefined;
            let clickTranslateX = undefined;
            let clickTranslateY = undefined;

            updateNumberInfo();

            // update image numbers displayed in info box
            function updateNumberInfo() {
                numberInfoBox.innerHTML =
                    sourceImg.dataset.number + ' of ' + sourceImg.dataset.total;
            }

            // update zoom displayed in info box
            function updateZoomInfo() {
                let zoomInfo = zoom * 100;
                if (!Number.isInteger(zoomInfo))
                    zoomInfo = zoomInfo.toFixed(2);
                zoomInfoBox.innerHTML = zoomInfo + '%';
            }

            // move to closest zoom step above current zoom
            const zoomIn = function() {
                for (const zoomStep of zoomSteps) {
                    if (zoomStep > zoom) {
                        zoom = zoomStep;
                        break;
                    }
                }
                updateTransform();
            };

            // move to closest zoom step above current zoom
            const zoomOut = function() {
                zoomSteps.reverse();
                for (const zoomStep of zoomSteps) {
                    if (zoomStep < zoom) {
                        zoom = zoomStep;
                        break;
                    }
                }
                zoomSteps.reverse();

                updateTransform();
            };

            // update display of <img> based on scale/translate properties
            const updateTransform = function() {
                // set transform
                img.style.transform =
                    'translate(' +
                    (translateX || 0) +
                    'px,' +
                    (translateY || 0) +
                    'px) scale(' +
                    (zoom || 1) +
                    ')';

                // get new width/height after scale
                const rect = img.getBoundingClientRect();
                // limit translate
                translateX = Math.max(translateX, -rect.width / 2);
                translateX = Math.min(translateX, rect.width / 2);
                translateY = Math.max(translateY, -rect.height / 2);
                translateY = Math.min(translateY, rect.height / 2);

                // set transform
                img.style.transform =
                    'translate(' +
                    (translateX || 0) +
                    'px,' +
                    (translateY || 0) +
                    'px) scale(' +
                    (zoom || 1) +
                    ')';

                updateZoomInfo();
            };

            // fit <img> to container
            const fit = function() {
                // no x/y offset, 100% zoom by default
                translateX = 0;
                translateY = 0;
                zoom = 1;

                // widths of <img> and container
                const imgWidth = img.naturalWidth;
                const imgHeight = img.naturalHeight;
                const containerWidth = parseFloat(
                    window.getComputedStyle(container).width
                );
                const containerHeight = parseFloat(
                    window.getComputedStyle(container).height
                );

                // how much zooming is needed to fit <img> to container
                const xRatio = imgWidth / containerWidth;
                const yRatio = imgHeight / containerHeight;
                const maxRatio = Math.max(xRatio, yRatio);
                const newZoom = 1 / maxRatio;

                // fit <img> to container according to option
                if (options.defaultZoom === 'shrink') {
                    if (maxRatio > 1)
                        zoom = newZoom;
                } else if (options.defaultZoom === 'fit')
                    zoom = newZoom;

                updateTransform();
            };

            // when mouse wheel is rolled anywhere in container
            const onContainerWheel = function(event) {
                if (!event)
                    return;

                // let ctrl + mouse wheel to zoom behave as normal
                if (event.ctrlKey)
                    return;

                // prevent normal scroll behavior
                event.preventDefault();
                event.stopPropagation();

                // point around which to scale img
                const viewRect = container.getBoundingClientRect();
                const viewX = (viewRect.left + viewRect.right) / 2;
                const viewY = (viewRect.top + viewRect.bottom) / 2;
                const originX = options.centerZoom === 'true' ? viewX : mouseX;
                const originY = options.centerZoom === 'true' ? viewY : mouseY;

                // get point on image under origin
                const oldRect = img.getBoundingClientRect();
                const oldPercentX = (originX - oldRect.left) / oldRect.width;
                const oldPercentY = (originY - oldRect.top) / oldRect.height;

                // increment/decrement zoom
                if (event.deltaY < 0)
                    zoomIn();
                if (event.deltaY > 0)
                    zoomOut();

                // get offset between previous image point and origin
                const newRect = img.getBoundingClientRect();
                const offsetX =
                    originX - (newRect.left + newRect.width * oldPercentX);
                const offsetY =
                    originY - (newRect.top + newRect.height * oldPercentY);

                // translate image to keep image point under origin
                translateX += offsetX;
                translateY += offsetY;

                // perform translate
                updateTransform();
            };

            // when container is clicked
            function onContainerClick(event) {
                // if container itself is target of click, and not other
                // element above it
                if (event.target === this)
                    closeLightbox();
            }

            // when mouse button is pressed on image
            const onImageMouseDown = function(event) {
                // store original mouse position relative to image
                clickMouseX = window.mouseX;
                clickMouseY = window.mouseY;
                clickTranslateX = translateX;
                clickTranslateY = translateY;
                event.stopPropagation();
                event.preventDefault();
            };

            // when mouse button is released anywhere in window
            const onWindowMouseUp = function(event) {
                // reset original mouse position
                clickMouseX = undefined;
                clickMouseY = undefined;
                clickTranslateX = undefined;
                clickTranslateY = undefined;

                // remove global listener if lightbox removed from document
                if (!document.body.contains(container))
                    window.removeEventListener('mouseup', onWindowMouseUp);
            };

            // when mouse is moved anywhere in window
            const onWindowMouseMove = function(event) {
                if (
                    clickMouseX === undefined ||
                    clickMouseY === undefined ||
                    clickTranslateX === undefined ||
                    clickTranslateY === undefined
                )
                    return;

                // offset image based on original and current mouse position
                translateX = clickTranslateX + window.mouseX - clickMouseX;
                translateY = clickTranslateY + window.mouseY - clickMouseY;
                updateTransform();
                event.preventDefault();

                // remove global listener if lightbox removed from document
                if (!document.body.contains(container))
                    window.removeEventListener('mousemove', onWindowMouseMove);
            };

            // when window is resized
            const onWindowResize = function(event) {
                fit();

                // remove global listener if lightbox removed from document
                if (!document.body.contains(container))
                    window.removeEventListener('resize', onWindowResize);
            };

            // attach the necessary event listeners
            img.addEventListener('dblclick', fit);
            img.addEventListener('mousedown', onImageMouseDown);
            container.addEventListener('wheel', onContainerWheel);
            container.addEventListener('mousedown', onContainerClick);
            container.addEventListener('touchstart', onContainerClick);
            window.addEventListener('mouseup', onWindowMouseUp);
            window.addEventListener('mousemove', onWindowMouseMove);
            window.addEventListener('resize', onWindowResize);

            // run fit() after lightbox atttached to document and <img> Loaded
            // so needed container and img dimensions available
            img.addEventListener('load', fit);

            return img;
        }

        // make caption
        function makeCaption(img) {
            const caption = document.createElement('div');
            caption.id = 'lightbox_caption';
            const captionSource = img.nextElementSibling;
            if (captionSource.tagName.toLowerCase() === 'figcaption') {
                const captionCopy = makeCopy(captionSource);
                caption.innerHTML = captionCopy.innerHTML;
            }

            caption.addEventListener('touchstart', function(event) {
                event.stopPropagation();
            });

            return caption;
        }

        // make carbon copy of html dom element
        function makeCopy(source) {
            const sourceCopy = source.cloneNode(true);

            // delete elements marked with ignore (eg anchor and jump buttons)
            const deleteFromCopy = sourceCopy.querySelectorAll(
                '[data-ignore="true"]'
            );
            for (const element of deleteFromCopy)
                element.remove();

            // delete certain element attributes
            const attributes = [
                'id',
                'data-collapsed',
                'data-selected',
                'data-highlighted',
                'data-glow'
            ];
            for (const attribute of attributes) {
                sourceCopy.removeAttribute(attribute);
                const elements = sourceCopy.querySelectorAll(
                    '[' + attribute + ']'
                );
                for (const element of elements)
                    element.removeAttribute(attribute);
            }

            return sourceCopy;
        }

        // make button to jump to previous image in document
        function makePrevButton(img) {
            const prevButton = document.createElement('button');
            prevButton.id = 'lightbox_prev_button';
            prevButton.title = 'Jump to the previous image in the document [←]';
            prevButton.classList.add('icon_button', 'lightbox_button');
            prevButton.innerHTML = document.querySelector(
                '.icon_caret_left'
            ).innerHTML;

            // attach click listeners to button
            prevButton.addEventListener('click', function() {
                getPrevImg(img).click();
            });

            return prevButton;
        }

        // make button to jump to next image in document
        function makeNextButton(img) {
            const nextButton = document.createElement('button');
            nextButton.id = 'lightbox_next_button';
            nextButton.title = 'Jump to the next image in the document [→]';
            nextButton.classList.add('icon_button', 'lightbox_button');
            nextButton.innerHTML = document.querySelector(
                '.icon_caret_right'
            ).innerHTML;

            // attach click listeners to button
            nextButton.addEventListener('click', function() {
                getNextImg(img).click();
            });

            return nextButton;
        }

        // get previous image in document
        function getPrevImg(img) {
            const imgs = document.querySelectorAll('.lightbox_document_img');

            // find index of provided img
            let index;
            for (index = 0; index < imgs.length; index++) {
                if (imgs[index] === img)
                    break;
            }


            // wrap index to other side if < 1
            if (index - 1 >= 0)
                index--;
            else
                index = imgs.length - 1;
            return imgs[index];
        }

        // get next image in document
        function getNextImg(img) {
            const imgs = document.querySelectorAll('.lightbox_document_img');

            // find index of provided img
            let index;
            for (index = 0; index < imgs.length; index++) {
                if (imgs[index] === img)
                    break;
            }


            // wrap index to other side if > total
            if (index + 1 <= imgs.length - 1)
                index++;
            else
                index = 0;
            return imgs[index];
        }

        // close lightbox
        function closeLightbox() {
            focusBody();

            const lightbox = document.getElementById('lightbox_overlay');
            if (lightbox)
                lightbox.remove();
        }

        // make all elements behind lightbox non-focusable
        function blurBody(overlay) {
            const all = document.querySelectorAll('*');
            for (const element of all)
                element.tabIndex = -1;
            document.body.classList.add('body_no_scroll');
        }

        // make all elements focusable again
        function focusBody() {
            const all = document.querySelectorAll('*');
            for (const element of all)
                element.removeAttribute('tabIndex');
            document.body.classList.remove('body_no_scroll');
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>

<!-- caret left icon -->

<template class="icon_caret_left">
    <!-- modified from: https://fontawesome.com/icons/caret-left -->
    <svg width="16" height="16" viewBox="0 0 192 512">
        <path
            fill="currentColor"
            d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"
        ></path>
    </svg>
</template>

<!-- caret right icon -->

<template class="icon_caret_right">
    <!-- modified from: https://fontawesome.com/icons/caret-right -->
    <svg width="16" height="16" viewBox="0 0 192 512">
        <path
            fill="currentColor"
            d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"
        ></path>
    </svg>
</template>
<!-- attributes plugin -->

<script>
    (function() {
        // /////////////////////////
        // DESCRIPTION
        // /////////////////////////

        // This Manubot plugin allows arbitrary HTML attributes to be attached
        // to (almost) any element. Place an HTML comment inside or next to the
        // desired element in the format <!-- $attribute="value" -->

        // /////////////////////////
        // OPTIONS
        // /////////////////////////

        // plugin name prefix for url parameters
        const pluginName = 'attributes';

        // default plugin options
        const options = {
            // whether plugin is on or not
            enabled: 'true'
        };

        // change options above, or override with url parameter, eg:
        // 'manuscript.html?pluginName-enabled=false'

        // /////////////////////////
        // SCRIPT
        // /////////////////////////

        // start script
        function start() {
            // get list of comments in document
            const comments = findComments();

            for(const comment of comments)
                if (comment.parentElement)
                    addAttributes(
                        comment.parentElement,
                        comment.nodeValue.trim()
                    );
        }

        // add html attributes to specified element based on string of 
        // html attributes and values
        function addAttributes(element, text) {
            // regex's for finding attribute/value pairs in the format of
            // attribute="value" or attribute='value
            const regex2 = /\$([a-zA-Z\-]+)?=\"(.+?)\"/;
            const regex1 = /\$([a-zA-Z\-]+)?=\'(.+?)\'/;

            // loop through attribute/value pairs
            let match;
            while(match = text.match(regex2) || text.match(regex1)) {
                // get attribute and value from regex capture groups
                let attribute = match[1];
                let value = match[2];

                // remove from string
                text = text.substring(match.index + match[0].length);

                if (!attribute || !value)
                    break;

                // set attribute of parent element
                try {
                    element.setAttribute(attribute, value);
                } catch(error) {
                    console.log(error);
                }

                // special case for colspan
                if (attribute === 'colspan')
                    removeTableCells(element, value);
            }
        }

        // get list of comment elements in document
        function findComments() {
            const comments = [];

            // iterate over comment nodes in document
            function acceptNode(node) {
                return NodeFilter.FILTER_ACCEPT;
            }
            const iterator = document.createNodeIterator(
                document.body,
                NodeFilter.SHOW_COMMENT,
                acceptNode
            );
            let node;
            while(node = iterator.nextNode())
                comments.push(node);

            return comments;
        }

        // remove certain number of cells after specified cell
        function removeTableCells(cell, number) {
            number = parseInt(number);
            if (!number)
                return;

            // remove elements
            for(; number > 1; number--) {
                if (cell.nextElementSibling)
                    cell.nextElementSibling.remove();
            }
        }

        // load options from url parameters
        function loadOptions() {
            const url = window.location.search;
            const params = new URLSearchParams(url);
            for (const optionName of Object.keys(options)) {
                const paramName = pluginName + '-' + optionName;
                const param = params.get(paramName);
                if (param !== '' && param !== null)
                    options[optionName] = param;
            }
        }
        loadOptions();

        // start script when document is finished loading
        if (options.enabled === 'true')
            window.addEventListener('load', start);
    })();
</script>
<!-- math plugin configuration -->

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "CommonHTML": { linebreaks: { automatic: true } },
        "HTML-CSS": { linebreaks: { automatic: true } },
        "SVG": { linebreaks: { automatic: true } },
        "fast-preview": { disabled: true }
    });
</script>

<!-- math plugin -->

<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'>
    // /////////////////////////
    // DESCRIPTION
    // /////////////////////////

    // This third-party plugin 'MathJax' allows the proper rendering of
    // math/equations written in LaTeX.

    // https://www.mathjax.org/
</script>
<!-- annotations plugin configuration -->

<script>
    window.hypothesisConfig = function() {
        return {
            branding: {
                accentColor: '#2196f3',
                appBackgroundColor: '#f8f8f8',
                ctaBackgroundColor: '#f8f8f8',
                ctaTextColor: '#000000',
                selectionFontFamily: 'Open Sans, Helvetica, sans serif',
                annotationFontFamily: 'Open Sans, Helvetica, sans serif'
            }
        };
    };
</script>

<!-- annotations plugin -->

<script src='https://hypothes.is/embed.js'>
    // /////////////////////////
    // DESCRIPTION
    // /////////////////////////

    // This third-party plugin 'Hypothesis' allows public annotation of the
    // manuscript.

    // https://web.hypothes.is/
</script>
<!-- analytics plugin -->

<!-- copy and paste code from Google Analytics or similar service here -->
</body>
</html>
